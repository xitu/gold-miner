> * åŸæ–‡åœ°å€ï¼š[Gang of Four Patterns in Kotlin](https://dev.to/lovis/gang-of-four-patterns-in-kotlin)
> * åŸæ–‡ä½œè€…ï¼š[Lovis](https://dev.to/lovis)
> * è¯‘æ–‡å‡ºè‡ªï¼š[æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)
> * è¯‘è€…ï¼š[Boiler Yao](https://github.com/boileryao)
> * æ ¡å¯¹è€…ï¼š[windmxf](https://github.com/windmxf), [wilsonandusa](https://github.com/wilsonandusa)

Kotlin æ­£åœ¨å¾—åˆ°è¶Šæ¥è¶Šå¹¿æ³›çš„åº”ç”¨ã€‚å¦‚æœæŠŠå¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ç”¨ Kotlin æ¥å®ç°ä¼šæ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ

å—åˆ° Mario Fusco çš„â€œä»â€˜å››äººå¸®â€™åˆ° lambdaâ€ï¼ˆç›¸å…³çš„[è§†é¢‘](https://www.youtube.com/watch?v=Rmer37g9AZM)ã€[åšå®¢](https://www.voxxed.com/blog/2016/04/gang-four-patterns-functional-light-part-1/)ã€[ä»£ç ](https://github.com/mariofusco/from-gof-to-lambda)ï¼‰çš„å¯å‘ï¼Œæˆ‘å†³å®šåŠ¨æ‰‹å®ç°ä¸€äº›è®¡ç®—æœºç§‘å­¦é¢†åŸŸæœ€è‘—åçš„è®¾è®¡æ¨¡å¼ï¼Œç”¨ â€œKotlinâ€ï¼ï¼ˆâ€œå››äººå¸®â€æŒ‡ Erich Gammaã€Richard Helmã€Ralph Johnson å’Œ John Vlissidesï¼Œå››äººåœ¨æ‰€è‘—çš„ã€ŠDesign Patterns: Elements of Reusable Object-Oriented Software ã€‹ä¸€ä¹¦ä¸­ä»‹ç»äº† 23 ç§è®¾è®¡æ¨¡å¼ï¼Œè¯¥ä¹¦è¢«èª‰ä¸ºè®¾è®¡æ¨¡å¼çš„ç»å…¸ä¹‹ä½œã€‚â€”â€”è¯‘æ³¨ï¼‰

å½“ç„¶ï¼Œæˆ‘çš„ç›®æ ‡ä¸æ˜¯ç®€å•çš„ **å®ç°** è¿™äº›æ¨¡å¼ã€‚å› ä¸º Kotlin æ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹å¹¶ä¸”å’Œ Java æ˜¯å¯äº’æ“ä½œçš„ï¼Œæˆ‘å¯ä»¥ä» Mario çš„ä»“åº“ç›´æ¥å¤åˆ¶ç²˜è´´æ¯ä¸€ä¸ª Java æ–‡ä»¶ï¼ˆå…ˆä¸ç®¡æ˜¯â€œä¼ ç»Ÿâ€çš„è¿˜æ˜¯â€œlambda é£æ ¼â€çš„ï¼‰ï¼Œ**å®ƒä»¬å°†ä»ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œ**ï¼

éœ€è¦ç‰¹åˆ«è¯´æ˜ä¸€ä¸‹ï¼Œè¿™äº›æ¨¡å¼çš„å‘æ˜æ˜¯ä¸ºäº†å¼¥è¡¥èµ·æºäºä¸Šä¸–çºªä¹åå¹´ä»£çš„ä¸€äº›å‘½ä»¤å¼ç¼–ç¨‹è¯­è¨€ï¼ˆå°¤å…¶æ˜¯ C++ï¼‰çš„ä¸è¶³ã€‚å¾ˆå¤šç°ä»£ç¼–ç¨‹è¯­è¨€æä¾›äº†è§£å†³è¿™äº›ä¸è¶³çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å®Œå…¨ä¸éœ€è¦å†å†™å¤šä½™çš„ä»£ç æˆ–è€…åšåˆ»æ„æ¨¡ä»¿è®¾è®¡æ¨¡å¼è¿™ç§äº‹äº†ã€‚

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åƒ Mario ï¼ˆç›¸å…³ä»“åº“åœ°å€ï¼š[gof](https://github.com/mariofusco/from-gof-to-lambda)ï¼‰é‚£æ ·ï¼Œå»å¯»æ‰¾ä¸€ç§æ›´ç®€å•æ–¹ä¾¿ã€æ›´æƒ¯ç”¨çš„æ–¹å¼æ¥è§£å†³è¿™äº›æ¨¡å¼æ‰€è¦è§£å†³çš„é—®é¢˜ã€‚

å¦‚æœä¸æƒ³çœ‹ä¸‹é¢è¿™å¨è¯´æ˜æ–‡å­—çš„è¯ï¼Œä½ å¯ä»¥ç›´æ¥å» [è¿™ä¸ª GitHub ä»“åº“](https://github.com/lmller/gof-in-kotlin) çœ‹ä»£ç ã€‚

---

ä¼—æ‰€å‘¨çŸ¥ï¼Œæ ¹æ®â€œå››äººå¸®â€çš„å®šä¹‰è®¾è®¡æ¨¡å¼å¯ä»¥åˆ†ä¸ºä¸‰ç§: **ç»“æ„å‹**ã€**åˆ›å»ºå‹** å’Œ **è¡Œä¸ºå‹**ã€‚

 ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ç»“æ„å‹è®¾è®¡æ¨¡å¼ã€‚è¿™ä¸æ˜¯å¾ˆå¥½æï¼Œå› ä¸ºç»“æ„å‹è®¾è®¡æ¨¡å¼æ˜¯å…³äºç»“æ„çš„ã€‚æ€æ ·ç”¨ä¸€ä¸ª **ä¸åŒ** çš„ç»“æ„æ¥å®ç°è¿™ä¸ªç»“æ„å‘¢ï¼Œè‡£å¦¾åšä¸åˆ°å•Šã€‚ä¸è¿‡ï¼Œ **è£…é¥°å™¨æ¨¡å¼** æ˜¯ä¸ªä¾‹å¤–ã€‚è™½ç„¶åœ¨æŠ€æœ¯å±‚é¢æ¥è¯´ç®—æ˜¯ç»“æ„å‹ï¼Œä½†å°±ä½¿ç”¨æ¥è¯´ï¼Œæ›´å¤šæ˜¯å’Œè¡Œä¸ºåŠèŒè´£æœ‰å…³çš„ï¼ˆè£…é¥°å™¨æ¨¡å¼ï¼Œæ¯ä¸ªè´Ÿè´£è¿›è¡ŒåŒ…è£…çš„ç±»å…·æœ‰å¢åŠ æŸä¸€è¡Œä¸ºè¿™ä¸€èŒè´£ã€‚â€”â€”è¯‘æ³¨ï¼‰ã€‚

### ç»“æ„å‹è®¾è®¡æ¨¡å¼

#### è£…é¥°å™¨æ¨¡å¼ï¼ˆDecoratorï¼‰

> åŠ¨æ€åœ°ç»™å¯¹è±¡æ·»åŠ è¡Œä¸ºï¼ˆèŒè´£ï¼‰

å‡è®¾æˆ‘ä»¬æƒ³ç”¨ä¸€äº›ç‰¹æ•ˆï¼ˆduangï¼‰æ¥è£…é¥° `Text` è¿™ä¸ªç±»ï¼š

```
class Text(val text: String) {
    fun draw() = print(text)
}
```

å¦‚æœäº†è§£è¿™ä¸ªæ¨¡å¼çš„è¯ï¼Œä½ åº”è¯¥çŸ¥é“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€äº›ç±»æ¥â€œä¿®é¥°â€ï¼ˆå³ï¼Œæ‹“å±•è¡Œ ä¸ºï¼‰ `Text` ç±»ã€‚

åœ¨ Kotlin ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ **å‡½æ•°æ‹“å±•ï¼ˆextension functionsï¼‰** æ¥é¿å…åˆ›å»ºè¿™ä¹ˆä¸€å¤§å¨ç±»ï¼š

```
fun Text.underline(decorated: Text.() -> Unit) {
    print("_")
    this.decorated()
    print("_")
}

fun Text.background(decorated: Text.() -> Unit) {
    print("\u001B[43m")
    this.decorated()
    print("\u001B[0m")
}
```

æœ‰äº†è¿™äº›æ‹“å±•å‡½æ•°ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å®ä¾‹åŒ–ä¸€ä¸ª `Text` å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨ä¸åˆ›å»ºå…¶ä»–ç±»çš„æƒ…å†µä¸‹æ¥ä¿®é¥°å®ƒçš„ `draw` æ–¹æ³•ï¼š

```
Text("Hello").run {
    background {
        underline {
            draw()
        }
    }
}
```

è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šçœ‹è§å¸¦æœ‰å½©è‰²èƒŒæ™¯çš„â€œ\_Hello\_â€ï¼ˆå¦‚æœç»ˆç«¯æ”¯æŒ ansi é¢œè‰²çš„è¯ï¼‰ã€‚

è·ŸåŸæœ¬çš„è£…é¥°è€…ç›¸æ¯”ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªä¸è¶³ï¼šç”±äºæ²¡æœ‰ç”¨æ¥è£…é¥°çš„ç±»äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨â€œé¢„è£…é¥°â€è¿‡çš„å¯¹è±¡äº†ã€‚

å¯ä»¥å†æ¬¡ä½¿ç”¨å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå‡½æ•°æ˜¯ Kotlin ä¸­çš„â€œä¸€ç­‰å…¬æ°‘â€ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```
fun preDecorated(decorated: Text.() -> Unit): Text.() -> Unit {
    return { background { underline { decorated() } } }
}
```

### åˆ›å»ºå‹è®¾è®¡æ¨¡å¼

#### Builder æ¨¡å¼

> å°†å¤æ‚å¯¹è±¡çš„æ„é€ ä¸å…¶è¡¨ç¤ºåˆ†å¼€ï¼Œä»¥ä¾¿ç›¸åŒçš„æ„é€ è¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒå½¢å¼çš„å¯¹è±¡

**Builder** æ¨¡å¼å¾ˆå¥½ç”¨ï¼Œå¯ä»¥é¿å…è‡ƒè‚¿çš„æ„é€ å‡½æ•°å‚æ•°åˆ—è¡¨ï¼Œè¿˜èƒ½æ–¹ä¾¿åœ°å¤ç”¨é¢„å…ˆå®šä¹‰å¥½çš„é…ç½®å¯¹è±¡çš„ä»£ç ã€‚ Kotlin çš„ `apply` æ‰©å±•åŸç”Ÿæ”¯æŒ Builder æ¨¡å¼ã€‚

å‡è®¾æœ‰ä¸€ä¸ª `Car` ç±»ï¼š

```
class Car() {
    var color: String = "red"
    var doors = 3
}
```

é™¤äº†ä¸ºè¿™ä¸ªç±»å•ç‹¬åˆ›å»ºä¸€ä¸ª `CarBuilder` ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `apply`ï¼ˆ`also` ä¹Ÿè¡Œï¼‰æ‹“å±•æ¥åˆå§‹åŒ–ä¸€è¾†è½¦ï¼š

```
Car().apply {
    color = "yellow"
    doors = 5
}
```

ç”±äºå‡½æ•°å¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œæ‰€ä»¥è¿™ä¸ªåˆå§‹åŒ–è¿‡ç¨‹ä¹Ÿå¯ä»¥æ”¾åœ¨ä¸€ä¸ªå˜é‡é‡Œã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªé¢„å…ˆå®šä¹‰å¥½çš„ **Builder** â€œå‡½æ•°â€ï¼Œæ¯”å¦‚ `val yellowCar: Car.() -> Unit = { color = "yellow" }`

#### åŸå‹æ¨¡å¼ï¼ˆPrototypeï¼‰

> ä½¿ç”¨åŸå‹åŒ–çš„å®ä¾‹æŒ‡å®šè¦åˆ›å»ºçš„å¯¹è±¡çš„ç§ç±»ï¼Œå¹¶é€šè¿‡å¤åˆ¶æ­¤å®ä¾‹æ¥åˆ›å»ºç‰¹å®šçš„æ–°å¯¹è±¡

åœ¨ Java ä¸­ï¼ŒåŸå‹æ¨¡å¼ç†è®ºä¸Šå¯ä»¥ç”¨ `Cloneable` æ¥å£å’Œ `Object.clone()` æ¥å®ç°ã€‚ç„¶è€Œï¼Œ[`clone` æœ‰å¾ˆå¤§çš„ä¸è¶³](http://www.artima.com/intv/bloch13.html)ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥é¿å…ä½¿ç”¨å®ƒã€‚

Kotlin ç”¨æ•°æ®ç±»ï¼ˆdata classesï¼‰æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚

å½“ä½¿ç”¨æ•°æ®ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†å…è´¹å¾—åˆ° `equals`ã€`hashCode`ã€`toString` å’Œ `copy` è¿™å‡ ä¸ªå‡½æ•°ã€‚é€šè¿‡ `copy`ï¼Œæˆ‘ä»¬å¯ä»¥å¤åˆ¶ä¸€æ•´ä¸ªå¯¹è±¡å¹¶ä¸”ä¿®æ”¹æ‰€å¾—åˆ°çš„æ–°å¯¹è±¡çš„ä¸€äº›å±æ€§ã€‚

```
data class EMail(var recipient: String, var subject: String?, var message: String?)
...

val mail = EMail("abc@example.com", "Hello", "Don't know what to write.")

val copy = mail.copy(recipient = "other@example.com")

println("Email1 goes to " + mail.recipient + " with subject " + mail.subject)
println("Email2 goes to " + copy.recipient + " with subject " + copy.subject)
```

#### å•ä¾‹æ¨¡å¼ï¼ˆSingletonï¼‰

> ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›è¿™ä¸ªå®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹

å°½ç®¡è¿‘æ¥ **å•ä¾‹æ¨¡å¼** è¢«è®¤ä¸ºæ˜¯â€œåè®¾è®¡æ¨¡å¼çš„â€ï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰è‡ªå·±ç‹¬ç‰¹çš„ç”¨å¤„ï¼ˆæœ¬æ–‡ä¸ä¼šè®¨è®ºè¿™ä¸ªè¯é¢˜ï¼Œåªæ˜¯æˆ˜æˆ˜å…‹å…‹å…‹å…‹çš„æ¥ä½¿ç”¨å®ƒï¼‰ã€‚

åœ¨ Java ä¸­åˆ›å»º **å•ä¾‹** è¿˜æ˜¯éœ€è¦ä¸€ç•ªæ“ä½œçš„ï¼Œä½†æ˜¯åœ¨ Kotlin ä¸­åªéœ€è¦ç®€å•çš„ä½¿ç”¨ **`object`** å£°æ˜å°±å¯ä»¥äº†ã€‚

```
object Dictionary {
    fun addDefinition(word: String, definition: String) {
        definitions.put(word.toLowerCase(), definition)
    }

    fun getDefinition(word: String): String {
        return definitions[word.toLowerCase()] ?: ""
    }
}
```

è¿™é‡Œä½¿ç”¨çš„ `object` å…³é”®è¯ä¼šè‡ªåŠ¨åˆ›å»ºå‡º `Dictionary` è¿™ä¸ªç±»ä»¥åŠå®ƒçš„ä¸€ä¸ªå•ä¾‹ã€‚è¿™ä¸ªå•ä¾‹ä»¥â€œæ‡’æ±‰æ¨¡å¼â€åˆ›å»ºï¼Œç”¨åˆ°å®ƒæ—¶æ‰ä¼šè¿›è¡Œåˆ›å»ºã€‚

å•ä¾‹çš„è®¿é—®æ–¹å¼å’Œ Java çš„é™æ€æ–¹æ³•å·®ä¸å¤šï¼š

```
val word = "kotlin"
Dictionary.addDefinition(word, "an awesome programming language created by JetBrains")
println(word + " is " + Dictionary.getDefinition(word))
```

### è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼

#### æ¨¡æ¿æ–¹æ³•ï¼ˆTemplate Methodï¼‰

> åœ¨æ“ä½œä¸­å®šä¹‰ç®—æ³•ï¼ˆæ­¥éª¤ï¼‰çš„éª¨æ¶ï¼Œå°†ä¸€äº›æ­¥éª¤å§”æ‰˜ç»™å­ç±»

è¿™ä¸ªè®¾è®¡æ¨¡å¼åŒæ—¶ç”¨åˆ°äº†ç±»çš„ç»§æ‰¿ã€‚å®šä¹‰ä¸€äº› `æŠ½è±¡æ–¹æ³•` å¹¶ä¸”åœ¨åŸºç±»è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚æŠ½è±¡æ–¹æ³•ç”±å­ç±»è´Ÿè´£å®ç°ã€‚

```
//java
public abstract class Task {
        protected abstract void work();
        public void execute(){
            beforeWork();
            work();
            afterWork();
        }
    }
```

ç°åœ¨ä» `Task` æ´¾ç”Ÿå‡ºä¸€ä¸ªåœ¨ `work` æ–¹æ³•ä¸­çœŸæ­£åšäº†äº‹æƒ…çš„å…·ä½“ç±»ã€‚

å’Œ **è£…é¥°å™¨æ¨¡å¼** ä½¿ç”¨å‡½æ•°æ‹“å±•ç±»ä¼¼ï¼Œè¿™é‡Œçš„ **æ¨¡æ¿æ–¹æ³•** é€šè¿‡é¡¶å±‚å‡½æ•°å®ç°ã€‚

```
//kotlin
fun execute(task: () -> Unit) {
    val startTime = System.currentTimeMillis() //"beforeWork()"
    task()
    println("Work took ${System.currentTimeMillis() - startTime} millis") //"afterWork()"
}

...
//usage:
execute {
    println("I'm working here!")
}
```

çœ‹ï¼Œæ ¹æœ¬æ²¡æœ‰å¿…è¦å†™ä»»ä½•ç±»ï¼æœ‰äººå¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œè¿™ä¸æ˜¯ **ç­–ç•¥æ¨¡å¼** å—ï¼Œè¿™ä¸ªç–‘é—®ä¸æ— é“ç†ã€‚ä»å¦ä¸€æ–¹é¢æ¥çœ‹ï¼Œ**ç­–ç•¥æ¨¡å¼** å’Œ **æ¨¡æ¿æ–¹æ³•** ç¡®å®åœ¨è§£å†³å¾ˆç›¸ä¼¼çš„é—®é¢˜ï¼ˆå¦‚æœæœ‰ä»€ä¹ˆä¸åŒï¼‰ã€‚

#### ç­–ç•¥æ¨¡å¼ï¼ˆStrategyï¼‰

> å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå°è£…æ¯ä¸ªç®—æ³•ï¼Œå¹¶ä½¿å®ƒä»¬å¯ä»¥äº’æ¢

æœ‰ä¸€äº› `Customer` ï¼Œä»–ä»¬æ¯ä¸ªæœˆéƒ½è¦ä»˜ä¸€ç¬”ç‰¹å®šçš„è´¹ç”¨ã€‚å¯¹äºæŸäº›ç‰¹å®šçš„äººï¼Œè¿™ç¬”è´¹ç”¨å¯ä»¥æ‰“æŠ˜ã€‚æˆ‘ä»¬ä¸å»ä¸ºæ¯ç§æ‰“æŠ˜ **ç­–ç•¥** éƒ½å»å†™ä¸€ä¸ªå¯¹åº”çš„ `Customer` å­ç±»ï¼Œè€Œæ˜¯é‡‡ç”¨ **ç­–ç•¥æ¨¡å¼**ã€‚

```
class Customer(val name: String, val fee: Double, val discount: (Double) -> Double) {
    fun pricePerMonth(): Double {
        return discount(fee)
    }
}
```

æ³¨æ„è¿™é‡Œæ²¡æœ‰ä½¿ç”¨æ¥å£ï¼Œè€Œæ˜¯ä½¿ç”¨ `(Double) -> Double` ï¼ˆDouble åˆ° Doubleï¼‰çš„å‡½æ•°æ¥æ›¿ä»£ã€‚ä¸ºäº†ä½¿è¿™ä¸ªå˜æ¢çœ‹ä¸Šå»æœ‰æ„ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å£°æ˜ä¸€ä¸ªç±»å‹åˆ«åï¼Œè¿™æ ·ä¹Ÿä¸å¤±é«˜é˜¶å‡½æ•°çš„çµæ´»æ€§ï¼š `typealias Discount = (Double) -> Double`.

æ— è®ºå“ªç§æ–¹å¼ï¼Œæˆ‘éƒ½å¯ä»¥å®šä¹‰å¤šç§ **ç­–ç•¥** æ¥è®¡ç®—æŠ˜æ‰£ã€‚

```
val studentDiscount = { fee: Double -> fee/2 }
val noDiscount = { fee: Double -> fee }
...

val student = Customer("Ned", 10.0, studentDiscount)
val regular = Customer("John", 10.0, noDiscount)

println("${student.name} pays %.2f per month".format(student.pricePerMonth()))
println("${regular.name} pays %.2f per month".format(regular.pricePerMonth()))
```

#### è¿­ä»£å™¨æ¨¡å¼ï¼ˆIteratorï¼‰

> æä¾›äº†ä¸€ç§åœ¨ä¸æš´éœ²å…¶åº•å±‚è¡¨ç¤ºçš„æƒ…å†µä¸‹é¡ºåºè®¿é—®èšåˆå¯¹è±¡å†…éƒ¨å…ƒç´ çš„æ–¹æ³•

å…¶å®å¾ˆéš¾é‡åˆ°éœ€è¦æ‰‹æ“ä¸€ä¸ª **è¿­ä»£å™¨** çš„æƒ…å†µã€‚å¤§å¤šæ•°æƒ…å†µï¼ŒåŒ…è£…ä¸€ä¸ª `List` å¹¶ä¸”å®ç° `Iterable`æ¥å£è¦æ›´ç®€å•æ–¹ä¾¿ã€‚

åœ¨ Kotlin ä¸­ï¼Œ `iterator()` æ˜¯ä¸ªæ“ä½œç¬¦å‡½æ•°ã€‚è¿™æ„å‘³ç€å½“ä¸€ä¸ªç±»å®šä¹‰äº† `operator fun iterator()` è¿™ä¸ªå‡½æ•°åï¼Œå¯ä»¥ä½¿ç”¨ `for` å¾ªç¯æ¥éå†å®ƒï¼ˆä¸éœ€è¦å£°æ˜æ¥å£ï¼‰ã€‚è¿™ä¸ªå‡½æ•°ä¹Ÿèƒ½é€šè¿‡æ‹“å±•å‡½æ•°é…åˆä½¿ç”¨ï¼Œè¿™æ˜¯å¾ˆé…·ç‚«çš„ã€‚ é€šè¿‡æ‹“å±•å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è®© **æ¯ä¸€ä¸ª** å¯¹è±¡éƒ½æ˜¯å¯è¿­ä»£çš„ã€‚çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š

```
class Sentence(val words: List<String>)
...
operator fun Sentence.iterator(): Iterator<String> = words.iterator()
```

ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨ `Sentence` ä¸Šè¿›è¡Œè¿­ä»£æ“ä½œäº†ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªç±»çš„æ§åˆ¶æƒçš„è¯ï¼Œè¿­ä»£å™¨ä»ç„¶å°†æ­£å¸¸å·¥ä½œã€‚

### æ›´å¤šçš„æ¨¡å¼â€¦â€¦

è¿™ç¯‡æ–‡ç« ç¡®å®æåˆ°äº†ç›¸å½“å‡ ä¸ªè®¾è®¡æ¨¡å¼ï¼Œä½†è¿™ä¸æ˜¯ **â€œå››äººå¸®â€** è®¾è®¡æ¨¡å¼çš„å…¨éƒ¨ã€‚å°±åƒæˆ‘åœ¨ä¸€å¼€å§‹æåˆ°çš„é‚£æ ·ï¼Œå°¤å…¶æ˜¯ç»“æ„å‹è®¾è®¡æ¨¡å¼å¾ˆéš¾ç”šè‡³æ ¹æœ¬ä¸å¯èƒ½ç”¨å’Œ Java ä¸åŒçš„æ–¹æ³•æ¥å®ç°ã€‚ ä½ å¯ä»¥åœ¨ [è¿™ä¸ªä»£ç ä»“åº“](https://github.com/lmller/gof-in-kotlin) æ‰¾åˆ°æ›´å¤šçš„è®¾è®¡æ¨¡å¼ã€‚æ¬¢è¿æ¥æäº¤åé¦ˆå’Œ PRã€‚â˜º

å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™ä½ äº›å¯å‘ï¼Œè®©ä½ è®¤è¯†åˆ° Kotlin å¯ä»¥ä¸ºå¹¿ä¸ºäººçŸ¥çš„é—®é¢˜å¸¦æ¥çš„æ–°çš„è§£å†³æ–¹æ¡ˆã€‚

æœ€åæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œä»“åº“ä¸­çš„ä»£ç é‡å¤§æ¦‚æœ‰ â…“ çš„ Kotlin å’Œ â…” çš„ Javaï¼Œè™½ç„¶è¿™ä¸¤éƒ¨åˆ†ä»£ç å¹²äº†åŒæ ·çš„äº‹æƒ…ğŸ™ƒ

---

å°é¢å›¾ç‰‡æ¥è‡ª [stocksnap.io](stocksnap.io)

---

> [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) æ˜¯ä¸€ä¸ªç¿»è¯‘ä¼˜è´¨äº’è”ç½‘æŠ€æœ¯æ–‡ç« çš„ç¤¾åŒºï¼Œæ–‡ç« æ¥æºä¸º [æ˜é‡‘](https://juejin.im) ä¸Šçš„è‹±æ–‡åˆ†äº«æ–‡ç« ã€‚å†…å®¹è¦†ç›– [Android](https://github.com/xitu/gold-miner#android)ã€[iOS](https://github.com/xitu/gold-miner#ios)ã€[React](https://github.com/xitu/gold-miner#react)ã€[å‰ç«¯](https://github.com/xitu/gold-miner#å‰ç«¯)ã€[åç«¯](https://github.com/xitu/gold-miner#åç«¯)ã€[äº§å“](https://github.com/xitu/gold-miner#äº§å“)ã€[è®¾è®¡](https://github.com/xitu/gold-miner#è®¾è®¡) ç­‰é¢†åŸŸï¼Œæƒ³è¦æŸ¥çœ‹æ›´å¤šä¼˜è´¨è¯‘æ–‡è¯·æŒç»­å…³æ³¨ [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)ã€‚
