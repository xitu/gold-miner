
> * åŸæ–‡åœ°å€ï¼š[User Breakpoints in Xcode](https://pspdfkit.com/blog/2017/user-breakpoints-in-xcode/)
> * åŸæ–‡ä½œè€…ï¼š[Michael Ochs](https://twitter.com/_mochs)
> * è¯‘æ–‡å‡ºè‡ªï¼š[æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)
> * æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[https://github.com/xitu/gold-miner/blob/master/TODO/user-breakpoints-in-xcode.md](https://github.com/xitu/gold-miner/blob/master/TODO/user-breakpoints-in-xcode.md)
> * è¯‘è€…ï¼š[oOatuo](https://github.com/)
> * æ ¡å¯¹è€…ï¼š[fengzhihao123](https://github.com/fengzhihao123), [LeviDing](https://github.com/leviding)

# Xcode ä¸­çš„ç”¨æˆ·æ–­ç‚¹

å¤§å®¶åº”è¯¥éƒ½ç”¨è¿‡ Xcode ä¸­çš„æ–­ç‚¹ï¼Œä½†ä½ ä»¬ç†Ÿæ‚‰ç”¨æˆ·æ–­ç‚¹ä¹ˆï¼Ÿä¸‹é¢æˆ‘å°†å‘ä½ ä»¬ä»‹ç»å¦‚ä½•ä½¿ç”¨ä»¥åŠä½•æ—¶ä½¿ç”¨è¿™ç§æ–­ç‚¹ã€‚å¦‚æœä½ å·²ç»å¯¹ç”¨æˆ·æ–­ç‚¹æœ‰æ‰€äº†è§£äº†ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹æ–‡ç« åé¢çš„æ¸…å•ï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•åœ¨ PSPDFKit ä¸­ä½¿ç”¨å®ƒä»¬çš„ï¼Œä¹Ÿè®¸æœ‰ä¸€äº›æ–°çš„ä¸œè¥¿å¯ä»¥æ·»åŠ åˆ°ä½ çš„æ¸…å•ä¸­ï¼

## å¸¸è§„æ–­ç‚¹

å½“åˆ›å»ºä¸€ä¸ªå¸¸è§„æ–­ç‚¹æ—¶ï¼Œå®ƒä»¬ä¼šå‡ºç°åœ¨ Xcode çš„æ–­ç‚¹å¯¼èˆªå™¨ä¸­ï¼Œåˆ†åˆ—åœ¨å·¥ä½œåŒºæˆ–è€…å·¥ç¨‹ä¸‹ï¼Œè¿™å–å†³äºä½ å½“å‰æ‰€å·¥ä½œçš„ä½ç½®ã€‚ä½ å¯ä»¥é€šè¿‡ç‚¹å‡»åˆ—è¡¨ä¸­æˆ–è€…å®ƒæ‰€æŒ‡å‘çš„ä»£ç æ—è¾¹çš„çš„æ–­ç‚¹ç¬¦å·æ¥æ¿€æ´»æˆ–ç¦ç”¨ä¸€ä¸ªæ–­ç‚¹ã€‚

![A regular breakpoint](https://pspdfkit.com/images/blog/2017/user-breakpoints-in-xcode/regular-breakpoint@2x-a201ce1c.png)

è¿™äº›æ–­ç‚¹ä¿å­˜åœ¨ç‰¹å®šå·¥ä½œåŒºæˆ–å·¥ç¨‹çš„ä¸ªäººè®¾ç½®ä¸­ï¼Œä»…è‡ªå·±å¯è§ã€‚å³ä½¿ä½ å°†ä¸ªäººè®¾ç½®æäº¤åˆ°é¡¹ç›®ä¸­ï¼Œåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­çš„åŒäº‹ä¹Ÿä¸ä¼šåœ¨ä»–ä»¬çš„ Xcode ä¸­çœ‹åˆ°ä½ çš„æ–­ç‚¹ã€‚

## åˆ†äº«æ–­ç‚¹

é€šè¿‡å³å‡»æ–­ç‚¹ï¼Œé€‰æ‹©ã€€'Share Breakpoint'ï¼Œè¿™ä¸ªæ–­ç‚¹ä¼šå¯¹é¡¹ç›®ä¸­çš„æ‰€æœ‰äººå¯è§ã€‚å¦‚æœé¡¹ç›®ä¸­æœ‰ä½ å¸Œæœ›æ¯æ¬¡éƒ½èƒ½åœæ­¢æ‰§è¡Œçš„ä»£ç è·¯å¾„ï¼Œä¾‹å¦‚è‡ªå®šä¹‰çš„å¼‚å¸¸å¤„ç†æˆ–å…¶ä»–ä»»ä½•ä¸åº”åœ¨æ­£å¸¸æƒ…å†µä¸‹æ‰§è¡Œçš„ç‰¹å®šçš„é¡¹ç›®ä»£ç ï¼Œè¿™æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ç»“åˆæ–­ç‚¹é€‰é¡¹å’Œå¯è‡ªåŠ¨æ‰§è¡Œçš„æ–­ç‚¹ï¼Œè¿™å¯¹äºæé«˜è°ƒè¯•ä½“éªŒä¹Ÿå¾ˆæœ‰å¸®åŠ©ã€‚

å¦ä¸€ä¸ªä½ å¯ä»¥ç”¨å®ƒæ¥åšçš„ç¨å¾®ä¸é‚£ä¹ˆæœ‰ç”¨çš„äº‹ï¼šåœ¨åº”ç”¨ç¨‹åºçš„æ‰§è¡Œä»£ç è·¯å¾„ä¸­æ·»åŠ ä¸€ä¸ªå…±äº«çš„æ–­ç‚¹ï¼Œæ¯”å¦‚å®Œæˆä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼Œè®©å®ƒè‡ªåŠ¨åœ°è¿ç»­è¿è¡Œï¼Œå¹¶è®©å®ƒåœ¨æ¯æ¬¡è¢«å‡»ä¸­æ—¶æ’­æ”¾ä¸€ä¸ªå£°éŸ³ - æ˜¯çš„ï¼Œä½ å¯ä»¥è®©ä½ çš„æ–­ç‚¹å‘å‡ºå£°éŸ³ã€‚æäº¤æ–­ç‚¹ï¼Œç„¶åçœ‹ç€è¯•å›¾å¼„æ¸…æ¥šå£°éŸ³æ˜¯ä»å“ªé‡Œæ¥è€ŒæŠ“ç‹‚çš„åŒäº‹ï¼ğŸ˜ ä¸è¿‡ï¼Œåœ¨è¿œç¨‹å·¥ä½œçš„ç¯å¢ƒä¸‹ï¼Œæ¶æä½ çš„åŒäº‹æ˜¯å¾ˆéš¾çš„ï¼Œè¿™å°±æ˜¯æˆ‘ä¸ºä»€ä¹ˆæ²¡æœ‰åœ¨ PSPDFKit è¿™ä¹ˆåšã€‚ã€‚ã€‚ä½†å¯ä»¥åœ¨[æˆ‘ä»¬çš„çº¿ä¸‹å›¢å»º](https://pspdfkit.com/blog/2016/the-importance-of-retreats-for-a-remote-company/)æ—¶æ‹¿æ¥å¨±ä¹ä¸€ä¸‹ã€‚

## ç”¨æˆ·æ–­ç‚¹

ä½ è¿˜å¯ä»¥ç”¨æ–­ç‚¹æ¥åšå¦ä¸€ä»¶äº‹ã€‚å®ƒæ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„ç‰¹æ€§ï¼Œåªä¸è¿‡åœ¨ Xcode ä¸­æœ‰ç‚¹éš¾æ‰¾ã€‚ä½ å¯ä»¥é€šè¿‡å³å‡»æ–­ç‚¹é€‰æ‹© 'Move Breakpoint To > User'ï¼Œä½¿å…¶å˜æˆç”¨æˆ·æ–­ç‚¹ã€‚

![A regular breakpoint](https://pspdfkit.com/images/blog/2017/user-breakpoints-in-xcode/move-to-user@2x-d63238f8.png)

è¿™ä¼šå°†æ–­ç‚¹ä»å·¥ä½œåŒºæˆ–é¡¹ç›®èŒƒå›´è½¬ç§»åˆ°ä¸€ä¸ªç”¨æˆ·èŒƒå›´å†…ã€‚è¿™æ„å‘³ç€æ–­ç‚¹ä¼šå‡ºç°åœ¨ä½ çš„æœºå™¨ä¸Šçš„æ‰€æœ‰é¡¹ç›®ä¸­ã€‚è™½ç„¶è¿™å¯¹ä¸ç‰¹å®šé¡¹ç›®ç›¸å…³çš„äº‹æƒ…ä¸æ˜¯å¾ˆæœ‰å¸®åŠ©ï¼Œä½†è¿˜æ˜¯æœ‰å¾ˆå¤šçš„æ–­ç‚¹å¯ä»¥è¢«æ·»åŠ åˆ°ç”¨æˆ·èŒƒå›´çš„åˆ—è¡¨ä¸­ã€‚æœ€æ˜æ˜¾çš„äº‹æƒ…æ˜¯ Objective-C çš„å¼‚å¸¸å’Œ Swift çš„é”™è¯¯æ–­ç‚¹ï¼Œå¯èƒ½æ¯ä¸ªäººéƒ½ä¼šåœ¨æ¯ä¸ªé¡¹ç›®ä¸­éƒ½æ·»åŠ ä¸€æ¬¡ç›¸åº”çš„æ–­ç‚¹ã€‚ä½¿ç”¨ç”¨æˆ·æ–­ç‚¹çš„è¯ï¼Œä½ åªéœ€æ·»åŠ å®ƒä»¬ä¸€æ¬¡ï¼Œå®ƒä»¬å°±ä¼šè‡ªåŠ¨å‡ºç°åœ¨æ‚¨çš„æ‰€æœ‰é¡¹ç›®ä¸­ã€‚

å¦ä¸€ä¸ªæˆ‘ä½¿ç”¨çš„ç”¨æˆ·æ–­ç‚¹æ˜¯åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ¿€æ´» Revealã€‚Reveal æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç”¨æ¥è°ƒè¯•è§†å›¾ç›¸å…³é—®é¢˜çš„å·¥å…·ï¼Œæˆ‘ç»å¸¸ä½¿ç”¨å®ƒã€‚å®ƒéœ€è¦é€šè¿‡ä¸€ä¸ªæœåŠ¡æ¥é›†æˆåˆ°ä½ çš„åº”ç”¨ä¸­ï¼Œå¹¶ä¸”æœåŠ¡éœ€è¦è‡ªå·±å¯åŠ¨ï¼Œè¿™å¯ä»¥é€šè¿‡è°ƒè¯•å™¨æ¥å®ç°ï¼Œè€Œä¸å¿…æ·»åŠ ç›¸åº”çš„è°ƒè¯•ä»£ç ã€‚å½“ä½ æŠŠè¿™ä¸ªæ–­ç‚¹ç§»åŠ¨åˆ°ç”¨æˆ·ç©ºé—´ä¸‹åï¼Œä½ å°±ä¸å†éœ€è¦å°†å®ƒæ·»åŠ åˆ°æ¯ä¸ªé¡¹ç›®ä¸­å»ã€‚å¦‚æœä½ çš„é¡¹ç›®åŒ…å«äº† Reveal çš„æœåŠ¡, å½“åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æœåŠ¡ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚è¿™ä¸ªæ–¹æ³•ä¹Ÿåœ¨ Reveal çš„ [æ¥å…¥æŒ‡å—](http://support.revealapp.com/kb/getting-started/load-the-reveal-server-via-an-xcode-breakpoint) æåˆ°è¿‡ã€‚

è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ–­ç‚¹åœ¨æ¯ä¸ªé¡¹ç›®ä¸­éƒ½å¾ˆæœ‰å¸®åŠ©ã€‚è¯·è®°ä½ï¼Œä½ å¯ä»¥åœç”¨å®ƒä»¬ï¼Œåªåœ¨éœ€è¦çš„æ—¶å€™æ‰“å¼€å®ƒä»¬ï¼›æˆ‘çš„å¾ˆå¤šæ–­ç‚¹éƒ½æ˜¯é»˜è®¤å…³é—­çš„ï¼Œä½†å¦‚æœæˆ‘éœ€è¦å®ƒä»¬ï¼Œå®ƒä»¬å°±åœ¨é‚£é‡Œã€‚è¿™æ˜¯æˆ‘ä»¬å›¢é˜Ÿåœ¨ PSPDFKit ä¸­æœ€å–œæ¬¢ä½¿ç”¨çš„æ–­ç‚¹æ¸…å•ï¼š

- **Symbol:**`UIViewAlertForUnsatisfiableConstraints`

    å½“å‡ºç°è‡ªåŠ¨å¸ƒå±€çº¦æŸçš„é—®é¢˜æ—¶è‡ªåŠ¨åœæ­¢ã€‚è¿™ä¼šæ¯”ä»…ä»…åœ¨Xcodeçš„æ§åˆ¶å°è¾“å‡ºä¸€æ¡æ‰“å°ä¿¡æ¯æ›´è®©ä½ æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚å®ƒæœ‰åŠ©äºæˆ‘ä»¬åŠæ—©åœ°å‘ç°å¸ƒå±€é—®é¢˜ã€‚

- **Symbol:**`NSKVODeallocateBreak`

    åœ¨ KVO æŠ±æ€¨è§‚å¯Ÿè€…ä»åœ¨åŸåœ°çš„åœ°æ–¹ä¸­æ–­ã€‚   

- **Symbol:**`UIApplicationMain`
*Debugger command:*`e @import UIKit`

    å°† UIKit å¯¼å…¥åˆ°è°ƒè¯•å™¨ä¸­ï¼Œä¸å†éœ€è¦åœ¨å¾ˆå¤šåœ°æ–¹è½¬æ¢ç±»å‹ã€‚ä½ å†™è¿‡å¾ˆå¤šç±»ä¼¼ `p (CGRect)[self bounds]` çš„è¯­å¥ä¹ˆï¼Ÿè¿™æ¶ˆé™¤äº†å°†å…¶è½¬æ¢ä¸º CGRect çš„éœ€æ±‚ã€‚

- **Symbol:**`-[UIViewController initWithNibName:bundle:]`
    *Debugger command:*`po $arg1`

     åœ¨è§†å›¾æ§åˆ¶å™¨åˆå§‹åŒ–æœŸé—´æ‰“å°å…¶ç±»å‹ã€‚å½“åœ¨å¤§å‹é¡¹ç›®ä¸­å·¥ä½œæˆ–è€…ä½ æ˜¯ä¸ªæ–°æ¥çš„ï¼Œä½ ä¼šä¸çŸ¥é“æ‰€æœ‰è¯•å›¾æ§åˆ¶å™¨çš„åå­—ã€‚å¦‚æœä½ æƒ³çŸ¥é“ä½ è¦ä¿®æ”¹çš„è§†å›¾æ§åˆ¶å™¨çš„åå­—çš„è¯ï¼Œä½ åªéœ€æ¿€æ´»è¿™ä¸ªæ–­ç‚¹ï¼Œç„¶ååœ¨åº”ç”¨ä¸­å¯¼èˆªåˆ°è¿™ä¸ªè§†å›¾æ§åˆ¶å™¨ï¼Œä½ ä¼šåœ¨è°ƒè¯•å™¨ä¸­çœ‹åˆ°æ‰€æ‰“å°çš„åå­—ã€‚

- **Symbol:**`-[UIApplication sendAction:toTarget:fromSender:forEvent:]`

    å½“æœ‰äº‹ä»¶å‘å‡ºæ—¶ä¸­æ–­ï¼Œä¾‹å¦‚æŒ‰é’®çš„è§¦æ‘¸ã€‚è¿™å’Œä¸Šé¢é‚£ä¸ªå¾ˆç›¸ä¼¼ã€‚æ¿€æ´»è¿™ä¸ªæ–­ç‚¹ï¼Œå¦‚æœä½ ä¸çŸ¥é“æŒ‰é’®è¢«è§¦æ‘¸æ—¶è°ƒç”¨äº†å“ªä¸ªæ–¹æ³•çš„è¯ã€‚`p (SEL)$arg3` ä¼šæ‰“å°å‡ºè°ƒç”¨çš„é€‰æ‹©å™¨ï¼Œ`po $arg4` ä¼šæ‰“å°è°ƒç”¨å®ƒçš„ç›®æ ‡ã€‚

- **Exception Breakpoint:** Objective-C
    *Debugger command:*`po $arg1`

    å½“ Objective-C æ–­ç‚¹è¢«è§¦å‘æ—¶ä¸­æ–­ï¼Œå¹¶æ‰“å°ç›¸åº”çš„å¼‚å¸¸ä¿¡æ¯ã€‚

- **Exception Breakpoint:** C++

    å½“ C++ å¼‚å¸¸æŠ›å‡ºæ—¶ä¸­æ–­ã€‚

- **Swift Error Breakpoint**

    åœ¨ Swift é”™è¯¯å‡ºç°æ—¶ä¸­æ–­ã€‚

- **Symbol:**`_XCTFailureHandler`

    å½“å•å…ƒæµ‹è¯•äº§ç”Ÿé”™è¯¯æ—¶ä¸­æ–­ã€‚å¦‚æœä½ æ­£åœ¨è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¹¶æƒ³è¦å½“é”™è¯¯å‡ºç°æ—¶ä¸­æ–­ç¨‹åºï¼Œè¿™å°±æ˜¯ã€‚

å¦‚æœä½ çš„æ¸…å•ä¸­æœ‰å…¶ä»–çš„ä½ è§‰å¾—æœ‰ç”¨çš„æ–­ç‚¹ï¼Œ[è¯·è”ç³»æˆ‘](https://twitter.com/_mochs)ã€‚å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº Xcode æ–­ç‚¹æ‰€èƒ½åšçš„äº‹æƒ…ä»¥åŠ[å¦‚ä½•ç”¨è„šæœ¬åŒ–çš„æ–­ç‚¹è°ƒè¯•ç‰¹å®šçš„å®ä¾‹](https://pspdfkit.com/blog/2016/scripted-breakpoints/)çš„è¯ï¼Œå¯ä»¥æµè§ˆæˆ‘ä»¬çš„åšå®¢ï¼

---

> [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) æ˜¯ä¸€ä¸ªç¿»è¯‘ä¼˜è´¨äº’è”ç½‘æŠ€æœ¯æ–‡ç« çš„ç¤¾åŒºï¼Œæ–‡ç« æ¥æºä¸º [æ˜é‡‘](https://juejin.im) ä¸Šçš„è‹±æ–‡åˆ†äº«æ–‡ç« ã€‚å†…å®¹è¦†ç›– [Android](https://github.com/xitu/gold-miner#android)ã€[iOS](https://github.com/xitu/gold-miner#ios)ã€[React](https://github.com/xitu/gold-miner#react)ã€[å‰ç«¯](https://github.com/xitu/gold-miner#å‰ç«¯)ã€[åç«¯](https://github.com/xitu/gold-miner#åç«¯)ã€[äº§å“](https://github.com/xitu/gold-miner#äº§å“)ã€[è®¾è®¡](https://github.com/xitu/gold-miner#è®¾è®¡) ç­‰é¢†åŸŸï¼Œæƒ³è¦æŸ¥çœ‹æ›´å¤šä¼˜è´¨è¯‘æ–‡è¯·æŒç»­å…³æ³¨ [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)ã€‚
