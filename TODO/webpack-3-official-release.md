> * åŸæ–‡åœ°å€ï¼š[webpack 3: Official Release!!](https://medium.com/webpack/webpack-3-official-release-15fd2dd8f07b)
> * åŸæ–‡ä½œè€…ï¼š[Sean T. Larkin](https://medium.com/@TheLarkInn)
> * è¯‘æ–‡å‡ºè‡ªï¼š[æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)
> * è¯‘è€…ï¼š[xilihuasi](https://github.com/xilihuasi)
> * æ ¡å¯¹è€…ï¼š[achilleo](https://github.com/achilleo)

---

![](https://cdn-images-1.medium.com/max/1000/1*Ac4K68j43uSbvHnKZKfXPw.jpeg)

ç»ˆäºæ¥äº†ï¼Œç¾å¦™æäº†ã€‚

# ğŸ¾ğŸš€ webpack 3ï¼šå®˜æ–¹å‘å¸ƒï¼ï¼ ğŸš€ğŸ¾

## ä½œç”¨åŸŸæå‡ï¼Œâ€œé­”æ³•æ³¨è§£â€ï¼Œä»¥åŠå…¶ä»–æ›´å¤šç‰¹æ€§ï¼

åœ¨æˆ‘ä»¬å‘å¸ƒ webpack v2 ä¹‹åï¼Œæˆ‘ä»¬å¯¹ç¤¾åŒºåšäº†ä¸€äº›è®¸è¯ºã€‚æˆ‘ä»¬æ‰¿è¯ºå°†åœ¨æœªæ¥å‘å¸ƒä¸€äº›ä½ ä»¬æŠ•ç¥¨é€‰å‡ºçš„ç‰¹æ€§ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„å‘¨æœŸå‘å¸ƒå°†ä¼š**æ›´å¿«**ï¼Œ**æ›´ç¨³å®š**ã€‚

ä¸å†æœ‰ä¸€å¹´ä¹‹ä¹…çš„æµ‹è¯•ç‰ˆæœ¬ï¼Œç‰ˆæœ¬ä¹‹é—´ä¸å†æœ‰çˆ†ç‚¸æ€§çš„å˜åŒ–ã€‚æˆ‘ä»¬ä»¥**ä½ ä»¬å’Œç¤¾åŒºè®© webpack æ›´ç¹è£**çš„åä¹‰ï¼Œä¿è¯ä½ ä»¬è¡Œä½¿è‡ªå·±çš„æƒåˆ©ã€‚

webpack å›¢é˜Ÿè‡ªè±ªåœ°å®£å¸ƒï¼Œä»Šå¤© webpack 3.0.0 å‘å¸ƒå•¦ï¼ï¼ï¼ä»Šå¤©ä½ å°±å¯ä»¥ä¸‹è½½æˆ–æ›´æ–°ï¼ï¼

`npm install webpack@3.0.0 --save-dev`

æˆ–è€…

`yarn add webpack@3.0.0 --dev`

---

ä» webpack 2 è¿ç§»åˆ° 3ï¼Œåº”è¯¥ **åªéœ€åœ¨ terminal ä¸­æ‰§è¡Œå‡çº§å‘½ä»¤ã€‚** å› ä¸ºå†…éƒ¨çš„é‡å¤§æ”¹å˜å¯èƒ½ä¼šå½±å“ä¸€äº›æ’ä»¶ï¼Œæˆ‘ä»¬æŠŠè¿™é¡¹ç‰¹æ€§ä½œä¸ºé‡è¦æ›´æ–°æ”¶å½•äº†ã€‚

**ç›®å‰ä¸ºæ­¢98% çš„ç”¨æˆ·åœ¨å‡çº§åæ²¡æœ‰å½±å“åŸæœ‰åŠŸèƒ½çš„ä½¿ç”¨**

### æœ‰å“ªäº›æ›´æ–°ï¼Ÿ

æ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæˆ‘ä»¬æ—¨åœ¨å‘å¸ƒä½ ä»¬[æŠ•ç¥¨é€‰å‡º](https://webpack.js.org/vote)çš„é‚£äº›ç‰¹æ€§ï¼ç”±äº GitHub ä¸Šå¤§é‡çš„è´¡çŒ®ï¼Œä»¥åŠæ¥è‡ªæˆ‘ä»¬æ”¯æŒè€…å’ŒèµåŠ©å•†çš„æ”¯æŒï¼Œæˆ‘ä»¬å·²ç»æœ‰å®ç°æ‰€æœ‰è¿™äº›ç‰¹æ€§çš„èƒ½åŠ›ã€‚ ğŸ˜

#### ğŸ”¬ ä½œç”¨åŸŸæå‡ ğŸ”¬

ä½œç”¨åŸŸæå‡æ˜¯ webpack 3 çš„ä¸»è¦åŠŸèƒ½ã€‚ä¹‹å‰ç‰ˆæœ¬çš„ webpack åœ¨æ‰“åŒ…æ—¶çš„ä¸€ä¸ªå¦¥åæ˜¯åŒ…é‡Œé¢çš„æ¯ä¸ªæ¨¡å—éƒ½ä¼šè¢«åŒ…è£…åˆ°ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°é—­åŒ…ä¸­ã€‚è¿™äº›åŒ…è£…å‡½æ•°ä½¿ä½ åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œçš„ JavaScript ä»£ç å˜å¾—æ›´æ…¢ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¾‹å¦‚ Closure Compiler å’Œ RollupJs è¿™æ ·çš„å·¥å…·æŠŠæ‰€æœ‰æ¨¡å—çš„ä½œç”¨åŸŸâ€˜æå‡â€™æˆ–è€…ä¸²è”åœ¨ä¸€ä¸ªé—­åŒ…ï¼Œå¹¶ä¸”ä½¿ä½ çš„ä»£ç åœ¨æµè§ˆå™¨ä¸­æœ‰æ›´å¿«çš„æ‰§è¡Œæ—¶é—´ã€‚

[![](https://ws4.sinaimg.cn/large/006tKfTcgy1fgrga21tuwj30jn0923zk.jpg)](https://twitter.com/tizmagik/status/876128847682523138?ref_src=twsrc%5Etfw&ref_url=https%3A%2F%2Fmedium.com%2Fmedia%2F4533845503a873853b93e6aaf0833c57%3FpostId%3D15fd2dd8f07b)

ç›´è‡³ä»Šå¤©ï¼Œä½¿ç”¨ webpack 3ï¼Œä½ å¯ä»¥**é©¬ä¸ŠæŠŠå¦‚ä¸‹æ’ä»¶æ·»åŠ åˆ°ä½ çš„é…ç½®ä¸­æ¥å¯ç”¨ä½œç”¨åŸŸæå‡ï¼š**

    module.exports = {
      plugins: [
        new webpack.optimize.ModuleConcatenationPlugin()
      ]
    };

å…·ä½“è€Œè¨€ï¼Œä½œç”¨åŸŸæå‡æ˜¯ä¸€ä¸ªåŸºäº ECMAScript Module è¯­æ³•çš„ç‰¹æ€§ã€‚æ­£å› å¦‚æ­¤ï¼Œwebpack å¯èƒ½ä¼šæ ¹æ®ä½ ä½¿ç”¨çš„æ¨¡å—ç§ç±»ï¼Œä»¥åŠ[å…¶ä»–æ¡ä»¶](https://medium.com/webpack/webpack-freelancing-log-book-week-5-7-4764be3266f5)å›é€€åˆ°æ™®é€šçš„æ‰“åŒ…æ–¹å¼ã€‚

ä¸ºäº†éšæ—¶äº†è§£ä»€ä¹ˆè§¦å‘äº†è¿™äº›å›é€€ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ª `--display-optimization-bailout` å‘½ä»¤è¡Œæ ‡å¿—æ¥å‘Šè¯‰ä½ ä»€ä¹ˆå› ç´ å¯¼è‡´äº†è¿™äº›å›é€€ã€‚

[![](https://ws3.sinaimg.cn/large/006tKfTcgy1fgrgbhk955j30j806lt9e.jpg)](https://twitter.com/jeremenichelli/status/876527176606265344?ref_src=twsrc%5Etfw&ref_url=https%3A%2F%2Fmedium.com%2Fmedia%2F6663aed6525e9200886db81c9415337c%3FpostId%3D15fd2dd8f07b)

å› ä¸ºä½œç”¨åŸŸæå‡å°†ç§»é™¤æ¨¡å—çš„å‡½æ•°åŒ…è£…ï¼Œä½ å°†ä¼šçœ‹åˆ°æ–‡ä»¶å¤§å°çš„å°‘é‡ç²¾ç®€ã€‚ç„¶è€Œï¼Œæ›´æ˜¾è‘—çš„æå‡åœ¨äºï¼Œæµè§ˆå™¨åŠ è½½ JavaScript çš„æ—¶å€™æœ‰å¤šä¹ˆè¿…é€Ÿã€‚å¦‚æœä½ åœ¨åšäº†æ¯”è¾ƒä¹‹åæ„Ÿåˆ°å¾ˆçˆ½ï¼Œæˆ–è€…è‡ªç”±åœ°è·å–æ•°æ®å“åº”ï¼Œé‚£å°±å¿«å»è·Ÿæœ‹å‹åˆ†äº«å§ï¼

#### ğŸ”® â€é­”æ³•æ³¨è§£â€ ğŸ”®

å½“æˆ‘ä»¬åœ¨ webpack 2 ä¸­ä»‹ç»åŠ¨æ€å¼•å…¥è¯­æ³•ï¼ˆ `import()` ï¼‰çš„ä½¿ç”¨æ—¶ï¼Œç”¨æˆ·ä»¬æ‹…å¿ƒä»–ä»¬ä¸èƒ½åƒä½¿ç”¨ `require.ensure` ä¸€æ ·åˆ›å»ºå‘½åå—ã€‚

æˆ‘ä»¬ç°åœ¨å·²ç»é‡‡ç”¨äº†ç¤¾åŒºåˆ›é€ çš„â€œé­”æ³•æ³¨è§£â€ï¼Œæ‹¥æœ‰ä¼ é€’å—åçš„èƒ½åŠ›ï¼Œ[ä»¥åŠå…¶ä»–](https://medium.com/webpack/how-to-use-webpacks-new-magic-comment-feature-with-react-universal-component-ssr-a38fd3e296a)å°±åƒ `import()` è¯­å¥çš„è¡Œå†…æ³¨é‡Šã€‚


```
import(/* webpackChunkName: "my-chunk-name" */ 'module');
```

é€šè¿‡ä½¿ç”¨æ³¨è§£ï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯åŠ è½½çš„è§„èŒƒï¼Œå¹¶ä¸”ä»ç„¶æä¾›ä½ å–œæ¬¢çš„å—å‘½åç‰¹æ€§ã€‚è™½ç„¶è¿™äº›æŠ€æœ¯æ€§çš„ç‰¹æ€§æˆ‘ä»¬å·²ç»åœ¨ v2.4 å’Œ v2.6 ä¸­å‘å¸ƒäº†ï¼Œæˆ‘ä»¬åŠªåŠ›æå‡ç¨³å®šæ€§åŠä¿®å¤ bug æ¥ä¿è¯è¿™äº›ç‰¹æ€§åœ¨ v3 ä¸­æ­£å¼è½åœ°ã€‚ç°åœ¨å·²ç»å¯ä»¥ä½¿ç”¨å’Œ `require.ensure` ä¸€æ ·çµæ´»çš„åŠ¨æ€å¼•å…¥è¯­æ³•äº†ã€‚

[![](https://ws3.sinaimg.cn/large/006tKfTcgy1fgrgcvddj9j30ie0dodh5.jpg)](https://twitter.com/AdamRackis/status/872602076056088576/photo/1?ref_src=twsrc%5Etfw&ref_url=https%3A%2F%2Fmedium.com%2Fmedia%2Ffd3c12141eb0e7363d3e33feb528480c%3FpostId%3D15fd2dd8f07b)

æƒ³è¦äº†è§£æ›´å¤šèµ„è®¯ï¼Œæ¥çœ‹æˆ‘ä»¬çš„[ä»£ç æ‹†åˆ†çš„æœ€æ–°æ–‡æ¡£æŒ‡å—](https://webpack.js.org/guides/code-splitting-async)è¯¦ç»†äº†è§£è¿™äº›ç‰¹æ€§ï¼ï¼ï¼

### ğŸ˜ ç„¶åå‘¢ï¼Ÿ ğŸ˜

æˆ‘ä»¬è¿˜æœ‰ä¸€äº›ç‰¹æ€§å’ŒåŠŸèƒ½åŠ å¼ºå¸Œæœ›æä¾›ç»™ä½ ä»¬ï¼ï¼ï¼ä½†æ˜¯é¥­å¾—ä¸€å£ä¸€å£åƒï¼Œäº‹æƒ…è¦ä¸€ä»¶ä¸€ä»¶åšï¼Œåœ¨æˆ‘ä»¬çš„[**æŠ•ç¥¨é¡µé¢ï¼Œç»™æŠ•é‚£äº›ä½ æƒ³çœ‹åˆ°çš„ç‰¹æ€§å§ï¼**](http://webpack.js.org/vote)

è¿™é‡Œè¿˜æœ‰ä¸€äº›æˆ‘ä»¬ä»ç„¶æƒ³æä¾›ç»™ä½ ä»¬çš„ä¸œè¥¿ï¼š

- æ›´å¥½åœ°æ„å»ºç¼“å­˜
- æ›´å¿«çš„åˆå§‹å’Œå¢é‡ç‰ˆæœ¬
- æ›´å¥½çš„ TypeScript ä½“éªŒ
- æ”¹è¿›é•¿æœŸç¼“å­˜
- MASM æ¨¡å—æ”¯æŒ
- æå‡ç”¨æˆ·ä½“éªŒ


### ğŸ™‡ æ„Ÿè°¢ ğŸ™‡

æ‰€æœ‰æˆ‘ä»¬çš„ç”¨æˆ·ã€è´¡çŒ®è€…ã€æ–‡æ¡£ä½œè€…ã€åšå®¢ä¸»ã€èµåŠ©å•†ã€æ”¯æŒè€…å’Œç»´æŠ¤è€…ï¼Œéƒ½æ˜¯è¿™äº›å¹´æ¥å¸®åŠ©æˆ‘ä»¬ä¿è¯ webpack æˆåŠŸçš„æŠ•èµ„äººã€‚

ä¸ºæ­¤ï¼Œæ„Ÿè°¢ä½ ä»¬æ‰€æœ‰äººã€‚æ˜¯ä½ ä»¬ä½¿è¿™äº›æˆä¸ºäº†å¯èƒ½ï¼Œæˆ‘ä»¬å·²ç»è¿«ä¸åŠå¾…è·Ÿä½ ä»¬åˆ†äº«æœªæ¥æˆ‘ä»¬è¿˜æœ‰å“ªäº›é»‘ç§‘æŠ€äº†ï¼ï¼

---

**æ²¡æ—¶é—´å¸®åŠ©è´¡çŒ®ï¼Ÿæƒ³ç”¨å…¶ä»–æ–¹å¼å›é¦ˆï¼Ÿæˆ‘ä»¬çš„ [open collective](http://opencollective.com/webpack)ã€‚Open Collective ä¸ä»…æ”¯æ’‘æ•´ä¸ªæ ¸å¿ƒå›¢é˜Ÿï¼Œè€Œä¸”è¿˜å¸®åŠ©é‚£äº›åœ¨ä¸šä½™æ—¶é—´èŠ±äº†å¤§é‡æ—¶é—´æ¥æå‡æˆ‘ä»¬ç»„ç»‡çš„è´¡çŒ®è€…ä»¬ï¼ â¤**

---

> [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) æ˜¯ä¸€ä¸ªç¿»è¯‘ä¼˜è´¨äº’è”ç½‘æŠ€æœ¯æ–‡ç« çš„ç¤¾åŒºï¼Œæ–‡ç« æ¥æºä¸º [æ˜é‡‘](https://juejin.im) ä¸Šçš„è‹±æ–‡åˆ†äº«æ–‡ç« ã€‚å†…å®¹è¦†ç›– [Android](https://github.com/xitu/gold-miner#android)ã€[iOS](https://github.com/xitu/gold-miner#ios)ã€[React](https://github.com/xitu/gold-miner#react)ã€[å‰ç«¯](https://github.com/xitu/gold-miner#å‰ç«¯)ã€[åç«¯](https://github.com/xitu/gold-miner#åç«¯)ã€[äº§å“](https://github.com/xitu/gold-miner#äº§å“)ã€[è®¾è®¡](https://github.com/xitu/gold-miner#è®¾è®¡) ç­‰é¢†åŸŸï¼Œæƒ³è¦æŸ¥çœ‹æ›´å¤šä¼˜è´¨è¯‘æ–‡è¯·æŒç»­å…³æ³¨ [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)ã€‚
