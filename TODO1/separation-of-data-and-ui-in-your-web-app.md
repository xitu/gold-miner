> * åŸæ–‡åœ°å€ï¼š[Separation of Data and Ui in your Web App](https://medium.com/front-end-weekly/separation-of-data-and-ui-in-your-web-app-2c3f1cc3fbda)
> * åŸæ–‡ä½œè€…ï¼š[Georgy Glezer](https://medium.com/@georgyglezer)
> * è¯‘æ–‡å‡ºè‡ªï¼š[æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)
> * æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[https://github.com/xitu/gold-miner/blob/master/TODO1/separation-of-data-and-ui-in-your-web-app.md](https://github.com/xitu/gold-miner/blob/master/TODO1/separation-of-data-and-ui-in-your-web-app.md)
> * è¯‘è€…ï¼š[fireairforce](https://github.com/fireairforce)
> * æ ¡å¯¹è€…ï¼š[Roc](https://github.com/QinRoc)

# Web åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®å’Œ UI åˆ†ç¦»

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Georgyï¼Œæ˜¯ **[Bringg](http://bringg.com/)** çš„ä¸€ä¸ªå…¨æ ˆå¼€å‘äººå‘˜ï¼Œè¿™æ˜¯æˆ‘å†™çš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚ ğŸ˜…

ä»Šå¤©æˆ‘æƒ³é‡ç‚¹ä»‹ç»ä¸€ä¸‹åœ¨æ„å»º web åº”ç”¨ç¨‹åºæ—¶æ•°æ®å’Œ UI åˆ†ç¦»çš„æ¦‚å¿µï¼Œå®ƒæ˜¯æ€æ ·å¸®åŠ©ä½ æ„å»ºæ›´æ¸…æ™°ã€æ›´æ˜“äºç»´æŠ¤å’Œæ›´å‡ºè‰²çš„ web åº”ç”¨ç¨‹åºï¼Œä»¥åŠæˆ‘å¦‚ä½•ç”¨ 4 ä¸ªä¸åŒçš„ UI/æ¡†æ¶åº“å‘ˆç°ç›¸åŒå†…å®¹çš„ä¸€ä¸ªå°ä¾‹å­ã€‚ğŸ˜„

é€šå¸¸åœ¨ä»»æ„çš„ web åº”ç”¨ç¨‹åºä¸­ï¼Œéƒ½æœ‰ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼š

* æ•°æ®
* UI

å› æ­¤ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ¡†æ¶/UI åº“ï¼Œæ¯”å¦‚ Reactã€Angularã€Vue ç­‰ç­‰ï¼Œç„¶åå†³å®šä½¿ç”¨ä»€ä¹ˆçŠ¶æ€ç®¡ç†å™¨ï¼Œæˆ–è€…åœ¨æ²¡æœ‰çŠ¶æ€ç®¡ç†å™¨çš„æƒ…å†µä¸‹å¦‚ä½•ç®¡ç†ä½ çš„æ•°æ®ã€‚

ä½ å¼€å§‹å†™ä½ çš„ç¬¬ä¸€ä¸ªåŠŸèƒ½ï¼Œä»¥ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨ä¸ºä¾‹ï¼Œä½ æœ‰ä¸€ä¸ªå¤é€‰æ¡†æ¥é€‰æ‹©ç”¨æˆ·ï¼Œç„¶åä½ éœ€è¦å†³å®šåœ¨å“ªé‡Œä¿å­˜ä½ å½“å‰é€‰æ‹©çš„ç”¨æˆ·ã€‚

> ä½ æ˜¯å°†å®ƒä»¬ä¿å­˜åœ¨ React ç»„ä»¶çš„ state é‡Œï¼Ÿæˆ–è€…æŠŠå®ƒä»¬æ”¾åœ¨ä½ çš„ redux store é‡Œï¼Ÿäº¦æˆ–è€…æ˜¯æŠŠå®ƒä»¬æ”¾åœ¨ä½ çš„ Angular æœåŠ¡æˆ– controller é‡Œï¼Ÿ
> è¢«é€‰æ‹©çš„ç”¨æˆ·æ˜¯å¦ä¸ä½ çš„æ•°æ®æœ‰å…³ï¼Ÿæˆ–è€…åªæ˜¯çº¯ç²¹çš„è§†å›¾æŒ‡ç¤ºå™¨ï¼Ÿ

å¥½çš„ï¼Œæˆ‘å°†å’Œä½ åˆ†äº«ç¼–å†™åŠŸèƒ½çš„æ€è·¯æˆ–æƒ³æ³•ï¼Œé€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œè®©ä½ èƒ½æ›´æ¸…æ™°åœ°åˆ†ç¦»æ•°æ®å’Œ UIã€‚

ç”¨æˆ·æ˜¯æˆ‘ä»¬åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ç”¨æˆ·ã€ä¿®æ”¹ç”¨æˆ·æ•°æ®ã€åˆ é™¤ç”¨æˆ·ã€ä»æˆ‘ä»¬æ‹¥æœ‰çš„ç”¨æˆ·ä¸­è·å–è¯¸å¦‚è°åœ¨çº¿å’Œç”¨æˆ·æ€»æ•°ä¹‹ç±»çš„ä¿¡æ¯ã€‚

å½“æˆ‘ä»¬æ˜¾ç¤ºä¸€ä¸ªç”¨æˆ·åˆ—è¡¨æ—¶ï¼Œæˆ‘ä»¬åªæ˜¯ä»¥ä¸€ç§å¯¹ç”¨æˆ·æ›´å¯è§çš„æ–¹å¼æ¥å±•ç¤ºæˆ‘ä»¬çš„æ•°æ®ï¼Œå°±åƒä¸€ä¸ªä¾›ç”¨æˆ·æŸ¥çœ‹çš„åˆ—è¡¨ä¸€æ ·ã€‚æˆ‘ä»¬å…è®¸ä»–é€‰æ‹©ç”¨æˆ·å’Œå–æ¶ˆé€‰æ‹©ç”¨æˆ·ï¼Œè¿™åªæ˜¯è§†å›¾çš„å½“å‰çŠ¶æ€ï¼Œé¡µé¢ä¸Šè¢«é€‰æ‹©çš„ç”¨æˆ·å’Œæ•°æ®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåº”è¯¥åˆ†ç¦»å¼€ã€‚

é€šè¿‡è¿™ç§åˆ†ç¦»ï¼Œæˆ‘ä»¬å°† JavaScript åº”ç”¨ç¨‹åºå¼€å‘ä¸ºçº¯ JavaScript åº”ç”¨ç¨‹åºï¼Œç„¶åé€‰æ‹©æˆ‘ä»¬æƒ³è¦è¡¨ç¤ºæ•°æ®çš„æ–¹å¼ã€‚è¿™å¯ä»¥è®©æˆ‘ä»¬è·å¾—æœ€å¤§çš„çµæ´»æ€§ï¼Œæ¯”å¦‚åœ¨ä¸åŒçš„åœ°æ–¹ä½¿ç”¨ä¸åŒçš„ UI åº“ï¼Œè¿™ç»„ç»„ä»¶æˆ‘æƒ³ç”¨ react æ¥è¡¨ç¤ºï¼Œå…¶å®ƒä¸€äº›ç»„ä»¶æˆ‘æƒ³ç”¨ web ç»„ä»¶æ¥è¡¨ç¤ºï¼Œç°åœ¨é€šè¿‡è¿™ç§åˆ†ç¦»ï¼Œæˆ‘å¯ä»¥å¾ˆå®¹æ˜“å®ç°è¿™ä¸ªæƒ³æ³•ã€‚

> # ä¸‹é¢æ˜¯æˆ‘ä¸ºå±•ç¤ºè¿™ä¸ªæ¦‚å¿µè€Œåˆ¶ä½œçš„ä¸€ä¸ªç¤ºä¾‹ï¼š

æˆ‘é€‰æ‹© [MobX](https://github.com/mobxjs/mobx) æ¥ç®¡ç†æˆ‘çš„åº”ç”¨ç¨‹åºä¸­çš„çŠ¶æ€ï¼Œå¹¶å¸®åŠ©æˆ‘è¿›è¡Œè·¨ä¸åŒæ¡†æ¶/UI åº“çš„æ¸²æŸ“ã€‚å®ƒå…·æœ‰å‡ºè‰²çš„ååº”ç³»ç»Ÿï¼Œå¯è®©ä½ è‡ªåŠ¨å“åº”æ‰€éœ€çš„äº‹ä»¶ã€‚

æˆ‘è¿™é‡Œçš„ model æ˜¯ **Template**ï¼Œå®ƒåªæœ‰ä¸€ä¸ªåç§°å’Œ setterï¼ˆMobX actionï¼‰, æˆ‘åœ¨é¡¹ç›®ä¸­ä¿å­˜äº†ä¸€ä¸ªæ‰€æœ‰æ¨¡æ¿çš„åˆ—è¡¨ï¼Œæˆ‘ç”¨ä¸€ä¸ª `TemplateList` æ¥ä¿å­˜å®ƒï¼Œè¿™æ˜¯æˆ‘å…¨éƒ¨çš„**æ•°æ®**äº†ã€‚

![](https://cdn-images-1.medium.com/max/2424/1*sUeiUDg6QXbe08GrEyZNfg.png)

![](https://cdn-images-1.medium.com/max/2508/1*Klb2cKUIoGzbYmjxOFwcuA.png)

æˆ‘çš„ç¨‹åºå·²ç»å¯ä»¥ä½œä¸º JavaScript åº”ç”¨ç¨‹åºè¿è¡Œäº†ï¼Œæˆ‘å¯ä»¥æ·»åŠ æ¨¡æ¿å¹¶æ›´æ–°å®ƒçš„æ–‡æœ¬ï¼Œä½†æˆ‘ä»ç„¶æ²¡æœ‰å®ƒçš„ UIï¼Œè®©æˆ‘ä»¬æ·»åŠ  React æ¥ä½œä¸ºç¬¬ä¸€ä¸ª UIã€‚

å¯¹äº Reactï¼Œæˆ‘ä½¿ç”¨äº† **[mobx-react](https://github.com/mobxjs/mobx-react)**ï¼Œå®ƒæ˜¯ä¸€ä¸ªè¿æ¥ MobX çš„åº“ï¼Œå¹¶ä½¿ç”¨å…¶åŠŸèƒ½åœ¨ react ä¸­æ¸²æŸ“ã€‚

![](https://cdn-images-1.medium.com/max/3328/1*_jHARXfsu4DPvfK6G55lFg.png)

ç„¶åæˆ‘é€‰æ‹©å¦ä¸€ä¸ªåº“ï¼ŒVue JSã€‚æˆ‘ä¿æŒå‡ ä¹ç›¸åŒçš„ Html å’Œ CSS ç±»ï¼Œåªæ˜¯ç”¨ Vue æ¥è¿›è¡Œæ¸²æŸ“ã€‚

æˆ‘ä½¿ç”¨ MobX `autorun`(https://mobx.js.org/refguide/autorun.html) å¹¶åœ¨æ¯æ¬¡æ·»åŠ æˆ–åˆ é™¤æ–°æ¨¡æ¿æ—¶é‡æ–°æ¸²æŸ“è§†å›¾ã€‚

![](https://cdn-images-1.medium.com/max/2168/1*k5ArS-smHdbb6rJlc2WMKQ.png)

ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†å¦ä¸€ä¸ª UIï¼Œå®ƒä½¿ç”¨ä¸åŒçš„åº“æ¥æ¸²æŸ“ï¼Œä½†æ˜¯åŸºäºç›¸åŒçš„æ•°æ®å­˜å‚¨ï¼Œè€Œä¸éœ€é¢å¤–æ”¹å˜ä¸€è¡Œåº”ç”¨ç¨‹åºæ•°æ®ç®¡ç†ä»£ç ã€‚

![](https://cdn-images-1.medium.com/max/3376/1*tGpOEofa1jIjxrwDQxqjLg.png)

å› æ­¤ç°åœ¨å±å¹•æœ‰äº†æ›´å¤šçš„ç©ºé—´ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€‰æ‹© 2 ä¸ªå…¶å®ƒçš„åº“ï¼Œè¿™æ¬¡æˆ‘ä»¬é€‰æ‹© AngularJSã€‚

AngularJS çš„æ¸²æŸ“æœ‰ç‚¹çƒ¦äººï¼Œå› ä¸ºå®ƒçš„ `ng-model` æŠŠæ¨¡å‹æä¹±äº†ï¼Œæ‰€ä»¥æˆ‘ä¸å¾—ä¸æŠŠæ¨¡æ¿çš„æ–‡æœ¬ä¿å­˜åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œç„¶ååœ¨æ–°æ¨¡æ¿ä¸Šé‡æ–°æ¸²æŸ“ã€‚

![](https://cdn-images-1.medium.com/max/2620/1*rMgQ3As1LMKkb7GWLmn9Lg.png)

![](https://cdn-images-1.medium.com/max/3344/1*Z2M5mSR8Vc4TRQKCzkySDw.png)

æœ€åä¸€ä¸ªåº“ï¼Œæˆ‘å†³å®šé€‰æ‹© [Preact](https://preactjs.com)ï¼Œå®ƒå’Œ React å¾ˆç›¸ä¼¼ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘è¿˜æ˜¯ç”¨ `autorun` æ¥æ›´æ–° UIã€‚

![](https://cdn-images-1.medium.com/max/2372/1*lqV2noA23HzDulsXr4OKLQ.png)

åœ¨è¿™é‡Œï¼Œæˆ‘è¿˜å¿…é¡»åœ¨æ¯æ¬¡æ›´æ”¹æ—¶æ›´æ–°æ¨¡æ¿æœ¬èº«ï¼ˆç±»ä¼¼äº mobx-react æ‰€åšçš„ï¼‰ã€‚

![](https://cdn-images-1.medium.com/max/2112/1*gzHJHBLK-ImmilyTK2FXIA.png)

ç°åœ¨æˆ‘ä»¬æœ‰ 4 ä¸ªä¸åŒçš„ UI/æ¡†æ¶åº“ï¼Œåœ¨åŒä¸€ä¸ªå±å¹•ä¸Šæ˜¾ç¤ºç›¸åŒçš„æ•°æ®ã€‚

![](https://cdn-images-1.medium.com/max/6716/1*_Dccz9ks746qQAs4P20vYQ.png)

æˆ‘çœŸçš„å¾ˆå–œæ¬¢è¿™ç§åˆ†ç¦»ï¼Œå®ƒä½¿ä»£ç æ›´åŠ æ¸…æ™°ï¼Œå› ä¸ºå®ƒåªéœ€è¦ç®¡ç† UI çŠ¶æ€ï¼Œç”šè‡³åªéœ€è¦è¡¨ç¤ºæ•°æ®ï¼Œå®ƒä½¿å¾—ä»£ç æ›´æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚

å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªæ¦‚å¿µï¼Œå¦‚æœæœ‰äººæœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³è¦è®¨è®ºï¼Œæˆ–ç»™æˆ‘ä»»ä½•æ”¹è¿›çš„æ„è§ï¼Œæ¬¢è¿é€šè¿‡ [Facebook](https://www.facebook.com/gglezer) æˆ–é‚®ä»¶ stolenng@gmail.com ä¸æˆ‘äº¤æµã€‚

ä»¥ä¸‹æ˜¯ä»“åº“å’Œç½‘ç«™çš„é“¾æ¥ï¼š

[**stolenng/mobx-cross-data-example**](https://github.com/stolenng/mobx-cross-data-example)

[http://mobx-cross-data.georgy-glezer.com/](http://mobx-cross-data.georgy-glezer.com/)

> å¦‚æœå‘ç°è¯‘æ–‡å­˜åœ¨é”™è¯¯æˆ–å…¶ä»–éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¬¢è¿åˆ° [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) å¯¹è¯‘æ–‡è¿›è¡Œä¿®æ”¹å¹¶ PRï¼Œä¹Ÿå¯è·å¾—ç›¸åº”å¥–åŠ±ç§¯åˆ†ã€‚æ–‡ç« å¼€å¤´çš„ **æœ¬æ–‡æ°¸ä¹…é“¾æ¥** å³ä¸ºæœ¬æ–‡åœ¨ GitHub ä¸Šçš„ MarkDown é“¾æ¥ã€‚

---

> [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) æ˜¯ä¸€ä¸ªç¿»è¯‘ä¼˜è´¨äº’è”ç½‘æŠ€æœ¯æ–‡ç« çš„ç¤¾åŒºï¼Œæ–‡ç« æ¥æºä¸º [æ˜é‡‘](https://juejin.im) ä¸Šçš„è‹±æ–‡åˆ†äº«æ–‡ç« ã€‚å†…å®¹è¦†ç›– [Android](https://github.com/xitu/gold-miner#android)ã€[iOS](https://github.com/xitu/gold-miner#ios)ã€[å‰ç«¯](https://github.com/xitu/gold-miner#å‰ç«¯)ã€[åç«¯](https://github.com/xitu/gold-miner#åç«¯)ã€[åŒºå—é“¾](https://github.com/xitu/gold-miner#åŒºå—é“¾)ã€[äº§å“](https://github.com/xitu/gold-miner#äº§å“)ã€[è®¾è®¡](https://github.com/xitu/gold-miner#è®¾è®¡)ã€[äººå·¥æ™ºèƒ½](https://github.com/xitu/gold-miner#äººå·¥æ™ºèƒ½)ç­‰é¢†åŸŸï¼Œæƒ³è¦æŸ¥çœ‹æ›´å¤šä¼˜è´¨è¯‘æ–‡è¯·æŒç»­å…³æ³¨ [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)ã€[å®˜æ–¹å¾®åš](http://weibo.com/juejinfanyi)ã€[çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/juejinfanyi)ã€‚
