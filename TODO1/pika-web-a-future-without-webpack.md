> * åŸæ–‡åœ°å€ï¼š[A Future Without Webpack](https://www.pika.dev/blog/pika-web-a-future-without-webpack/)
> * åŸæ–‡ä½œè€…ï¼š[FredKSchott](https://twitter.com/FredKSchott)
> * è¯‘æ–‡å‡ºè‡ªï¼š[æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)
> * æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[https://github.com/xitu/gold-miner/blob/master/TODO1/pika-web-a-future-without-webpack.md](https://github.com/xitu/gold-miner/blob/master/TODO1/pika-web-a-future-without-webpack.md)
> * è¯‘è€…ï¼š[Badd](https://juejin.im/user/5b0f6d4b6fb9a009e405dda1)
> * æ ¡å¯¹è€…ï¼š[MarchYuanx](https://github.com/MarchYuanx), [sunui](https://github.com/sunui)

# æ„¿æœªæ¥æ²¡æœ‰ Webpack

> ç”¨ @pika/web å®‰è£…çš„ npm åŒ…å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚è¿™æ ·çš„è¯ä½ è¿˜éœ€è¦ä¸€ä¸ªæ‰“åŒ…å·¥å…·ï¼ˆbundlerï¼‰å—ï¼Ÿ

![](https://www.pika.dev/static/img/bundling-cover.jpg)

ç°åœ¨æ˜¯ 1941 å¹´ã€‚ä½ çš„åå­—æ˜¯ Richard Hubbellã€‚ä½ åœ¨ CBS æ——ä¸‹çš„ä¸€ä¸ªè¯•éªŒæ€§çš„çº½çº¦ç”µè§†æ¼”æ’­å®¤å·¥ä½œã€‚ä½ å°†è¦ä¸»æŒä¸€åœºé‡å¤§ç”µè§†æ–°é—»å¹¿æ’­ï¼Œè¿™æ˜¯ä¸–ç•Œä¸Šé¦–æ‰¹ç”µè§†èŠ‚ç›®ä¹‹ä¸€ï¼Œä½ è¿˜æœ‰ 15 åˆ†é’Ÿå°±è¦ä¸Šåœºäº†ã€‚ä½ çŸ¥é“ä½ ä¸€ä¼šå„¿è¦å¹²å˜›å—ï¼Ÿ

åœ¨ä¸€ä¸ªäººä»¬åªçŸ¥é“æ”¶éŸ³æœºçš„ä¸–ç•Œé‡Œï¼Œä½ ä¼šåšä¿¡ä½ çš„è®¤çŸ¥ã€‚è€Œä½ æ­¤åˆ»çš„è®¤çŸ¥å°±æ˜¯ï¼Œä½ è¦æŠŠæ–°é—»ç¨¿è¯»å‡ºæ¥ã€‚[â€œHubbell ä¸»æŒçš„ç”µè§†æ–°é—»èŠ‚ç›®å‡ ä¹éƒ½æ˜¯ç…§æœ¬å®£ç§‘ï¼Œå¶å°”æŠŠé•œå¤´åˆ‡åˆ°ä¸€å¼ åœ°å›¾æˆ–è€…é™æ€å›¾ç‰‡ä¸Šã€‚â€](https://books.google.com/books?id=yWrEDQAAQBAJ&lpg=PA132&ots=WBn6zP9HAW&dq=newscasts%20featured%20Hubbell%20reading%20a%20script%20with%20only%20occasional%20cutaways&pg=PA132#v=onepage&q=newscasts%20featured%20Hubbell%20reading%20a%20script%20with%20only%20occasional%20cutaways&f=false)è¿˜å¾—è¿‡ä¸€é˜µå­ï¼Œäººä»¬æ‰èƒ½åœ¨ç”µè§†æ–°é—»ä¸Šçœ‹åˆ°çœŸå®çš„è§†é¢‘ç‰‡æ®µã€‚

ä½œä¸ºä¸€åèº«å¤„ 2019 å¹´çš„ JavaScript å¼€å‘è€…ï¼Œæˆ‘ä¹Ÿæœ‰åŒæ„Ÿã€‚æˆ‘ä»¬æ˜æ˜å·²ç»æ‹¥æœ‰äº†è¿™ä¸ªå´­æ–°çš„ JavaScript æ¨¡å—ç³»ç»Ÿï¼ˆ[ESM](https://flaviocopes.com/es-modules/)ï¼‰ï¼Œå®ƒå¯ä»¥ç›´æ¥åœ¨ Web ç¯å¢ƒä¸­è¿è¡Œã€‚å¯æ¯æ¬¡å¼€å‘ç‚¹ä»€ä¹ˆï¼Œæˆ‘ä»¬è¿˜æ˜¯å¾—ç”¨æ‰“åŒ…å·¥å…·å¤„ç†ä¸€ä¸‹ã€‚è¿™åˆ°åº•ä¸ºä»€ä¹ˆï¼Ÿ

åœ¨è¿‡å»çš„å‡ å¹´é‡Œï¼ŒJavaScript æ‰“åŒ…ç•Œçš„ç‚™æ‰‹å¯çƒ­å·²ç»ä»åªä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒè½¬å˜åˆ°äº†é€¢å¼€å‘å¿…æ‰“åŒ…çš„ç¨‹åº¦ã€‚ä¸è®ºä½ å–œæ¬¢ä¸å¦ï¼Œéƒ½å¾ˆéš¾å¦è®¤æ‰“åŒ…å·¥å…·ç»™ Web å¼€å‘å¸¦æ¥äº†å˜æ€çº§åˆ«çš„å¤æ‚æ€§ï¼Œè€Œ Web å¼€å‘æ˜æ˜æ˜¯ä¸€ä¸ªä¸€è´¯ä»¥æºç å¯è§å’Œè½»æ¾ä¸Šæ‰‹çš„ç²¾ç¥ä¸ºè£çš„é¢†åŸŸå•Šã€‚

##### @pika/web è¯•å›¾å°† Web å¼€å‘è€…ä»æ‰“åŒ…åœ°ç‹±ä¸­è§£æ•‘å‡ºæ¥ã€‚éƒ½ 2019 å¹´äº†ï¼Œä½ ä½¿ç”¨æ‰“åŒ…å·¥å…·åº”è¯¥æ˜¯å› ä¸ºä½ æƒ³è¦ç”¨ï¼Œè€Œä¸æ˜¯å› ä¸ºä½ ä¸å¾—ä¸ç”¨ã€‚

<img height="310" width="50%" src="https://www.pika.dev/static/img/bundling-webpack-graph.jpeg"/><img height="310" width="50%" src="https://www.pika.dev/static/img/bundling-crazy-charlie.jpeg"/>

**Credit: [@stylishandy](https://twitter.com/stylishandy/status/1105049564237754373)**

### æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æ‰“åŒ…

JavaScript æ‰“åŒ…ä¸è¿‡æ˜¯æ—§ç“¶è£…æ–°é…’ç½¢äº†ã€‚åœ¨è¿‡å»ï¼ˆå“ˆå“ˆï¼Œå¤§æ¦‚ 6 å¹´å‰ï¼‰ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å°† JavaScript æ–‡ä»¶å‹ç¼©å¹¶åˆå¹¶æ˜¯å®¶å¸¸ä¾¿é¥­ã€‚è¿™æ ·åšèƒ½å¤Ÿæå‡ç½‘ç«™çš„åŠ è½½é€Ÿåº¦ï¼Œå¹¶ç»•å¼€ [HTTP/1.1 çš„å¹¶è¡Œè¯·æ±‚ç“¶é¢ˆ](https://stackoverflow.com/a/985704)ã€‚

æœ¬æ¥è¿™ä¸ªä¼˜åŒ–æœ‰å®ƒæ›´å¥½æ²¡æœ‰ä¹Ÿè¡Œï¼Œæ€ä¹ˆåæ¥å°±å˜æˆäº†å¼€å‘è¿‡ç¨‹ä¸­ç»å¯¹å¿…é¡»çš„æ­¥éª¤äº†å‘¢ï¼Ÿè¿™å°±æ˜¯æœ€ç–¯ç‹‚çš„åœ°æ–¹ï¼šå¤§å¤šæ•° Web å¼€å‘è€…ä»æ¥æ²¡æœ‰ç‰¹åœ°è¦æ±‚è¿‡å¿…é¡»æ‰“åŒ…ã€‚ç›¸åï¼Œæ‰“åŒ…åªæ˜¯ä¸ªå‰¯ä½œç”¨ï¼Œæˆ‘ä»¬çœŸæ­£æ¸´æ±‚çš„å¦æœ‰å…¶ç‰© â€”â€” **npm**ã€‚

[npm](https://npmjs.com) â€”â€” å½¼æ—¶ä»£è¡¨ç€â€œNode.js åŒ…ç®¡ç†å·¥å…·â€ â€”â€” æ­£åœ¨é€æ¸æˆä¸ºæœ‰å²ä»¥æ¥æœ€å¤§çš„ä»£ç æ³¨å†Œä¸­å¿ƒã€‚å‰ç«¯å¼€å‘è€…ä»¬å¸Œæœ›èƒ½å‚ä¸å…¶ä¸­ã€‚å”¯ä¸€çš„é—®é¢˜åœ¨äºï¼Œå…¶ Node.js é£æ ¼çš„æ¨¡å—ç³»ç»Ÿï¼ˆCommon.js æˆ– CJSï¼‰ä¸ç»è¿‡æ‰“åŒ…å°±ä¸èƒ½åœ¨ Web ç¯å¢ƒä¸­è¿è¡Œã€‚æ•…æ­¤ï¼ŒBrowserifyã€[Webpack](https://webpack.js.org) ä»¥åŠå…¶ä»–ç°ä»£ Web æ‰“åŒ…å·¥å…·åº”è¿è€Œç”Ÿã€‚

![åˆ›å»º React åº”ç”¨çš„è§†è§‰åŒ–å±•ç°ï¼šä¸€å¤§å †ä¾èµ–åŒ…](https://www.pika.dev/static/img/bundling-cra-graph-2.jpg)

**[ç›´è§‚æ„Ÿå—åˆ›å»º React åº”ç”¨](https://npm.anvaka.com/#/view/2d/react-scripts)ï¼šè¿è¡Œâ€œHello Worldâ€éœ€è¦å®‰è£…è¶…è¿‡ 1300 ä¸ªä¾èµ–åŒ…**

### å¤æ‚æ€§æ–¯å¾·å“¥å°”æ‘©ç»¼åˆå¾

å¦‚ä»Šï¼Œæƒ³è¦å¼€å‘ Web é¡¹ç›®ï¼Œä¸ç”¨ [Webpack](https://webpack.js.org) ä¹‹ç±»çš„æ‰“åŒ…å·¥å…·åŸºæœ¬æ˜¯ä¸å¯èƒ½äº†ã€‚å°±æ‹¿ [Create React Appï¼ˆCRAï¼‰](https://facebook.github.io/create-react-app/)å¿«æ·æ–¹å¼ä¸¾ä¾‹å­ï¼Œå½“ä½ æ»¡å¿ƒå¸Œæœ›èƒ½å¿«é€Ÿåˆ›å»ºé¡¹ç›®ï¼Œå´å‘ç°éœ€è¦å…ˆå®‰è£…è¶…è¿‡ 1300 ä¸ªä¸åŒçš„ä¾èµ–åŒ…ï¼Œæ•´ä¸ªè‡ƒè‚¿çš„ `node_modules` æ–‡ä»¶å¤¹è¶³è¶³æœ‰ 200.9MB å¤§å°ï¼Œè€Œä½ åªæ˜¯æƒ³è¿è¡Œä¸ªâ€œHello Worldâ€å•Šï¼

å°±åƒ Richard Hubbell é‚£æ ·ï¼Œæˆ‘ä»¬éƒ½æ·±é™·äºæ‰“åŒ…å·¥å…·çš„æ³¥æ²¼ä¹‹ä¸­ï¼Œå¤ªå®¹æ˜“å¿½ç•¥äº‹ç‰©æœ¬å¯ä»¥æˆªç„¶ä¸åŒã€‚æˆ‘ä»¬ç°åœ¨æœ‰è¿™ä¹ˆå¤šä¼˜ç§€çš„ç°ä»£ ESM ä¾èµ–åŒ…å¯ä»¥ä½¿ç”¨ï¼ˆ[npm ä¸Šå·®ä¸å¤šæœ‰ 50000 ä¸ªï¼](https://www.pika.dev/about/stats)ï¼‰ã€‚æ˜¯ä»€ä¹ˆé˜»æ­¢æˆ‘ä»¬ç›´æ¥åœ¨ Web ç¯å¢ƒä¸Šä½¿ç”¨å®ƒä»¬ï¼Ÿ

å—¯ï¼Œè¿˜çœŸæœ‰é‚£ä¹ˆå‡ ä¸ªåŸå› ã€‚ğŸ˜•è‡ªå·±å†™ Web åŸç”Ÿçš„ ESM æ¨¡å—æå…¶å®¹æ˜“ï¼Œè€Œä¸”ç¡®å®æœ‰ä¸€äº›æ²¡æœ‰ä¾èµ–çš„ npm åŒ…èƒ½å¤Ÿç›´æ¥åœ¨ Web ç¯å¢ƒä¸­è¿è¡Œã€‚ä½†ä¸å¹¸çš„æ˜¯ ï¼Œç»å¤§å¤šæ•° npm åŒ…æ˜¯è¡Œä¸é€šçš„ã€‚åŒ…æœ¬èº«ä¼šç»§æ‰¿å…¶ä¾èµ–çš„ä¾èµ–ï¼Œæˆ–è€… npm åŒ…é€šè¿‡åŒ…åå¯¼å…¥ä¾èµ–åŒ…è¿™ç§ç‰¹æ®Šæ–¹å¼ï¼Œè¿™äº›éƒ½æ˜¯åŸå› ã€‚

è¿™å°±æ˜¯ä¸ºä½•è¦åˆ›é€  [@pika/web](https://github.com/pikapkg/web)ã€‚

### @pika/webï¼šæ— éœ€æ‰“åŒ…çš„ Web åº”ç”¨ã€‚

ç”¨ [@pika/web](https://github.com/pikapkg/web) å®‰è£…çš„ç°ä»£ npm ä¾èµ–å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå³ä½¿è¿™äº›ä¾èµ–åŒ…æœ¬èº«ä¹Ÿæœ‰å®ƒä»¬è‡ªå·±çš„ä¾èµ–åŒ…ã€‚ä¸€æ­¥æå®šã€‚å®ƒä¸æ˜¯ä¸€ä¸ªæ„å»ºå·¥å…·ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªï¼ˆä¼ ç»Ÿæ„ä¹‰çš„ï¼‰æ‰“åŒ…å·¥å…·ã€‚@pika/web æ˜¯ä¸€ç§ä¾èµ–åŒ…å®‰è£…æ—¶ï¼ˆinstall-timeï¼‰å·¥å…·ï¼Œå®ƒæå¤§åœ°é™ä½ä½ å¯¹å…¶ä»–å·¥å…·çš„ä½¿ç”¨æ¬²æœ›ï¼Œç”šè‡³èƒ½å¤Ÿå®Œå…¨ç”©å¼€ [Webpack](https://webpack.js.org) æˆ– [Parcel](https://parceljs.org/) è¿™ç±»ç»Šè„šçŸ³ã€‚

```bash
npm install && npx @pika/web
âœ” @pika/web installed web-native dependencies. [0.41s]
```

@pika/web ä¼šæŸ¥çœ‹ `package.json` æ–‡ä»¶ï¼Œæ ¸å¯¹ `"dependencies"` ä¸­æ‰€æœ‰å¯¼å‡ºäº†æœ‰æ•ˆ ESM æ¨¡å—å…¥å£ç‚¹çš„ä¾èµ–ï¼Œç„¶åæŠŠå®ƒä»¬å®‰è£…åˆ°æœ¬åœ°çš„ `web_modules` æ–‡ä»¶å¤¹ä¸­ã€‚@pika/web å¯¹æ‰€æœ‰çš„ ESM åŒ…éƒ½æœ‰æ•ˆï¼Œå³ä½¿æŸäº›åŒ…å¸¦æœ‰ ESM æ··åˆ Common.js çš„å†…éƒ¨ä¾èµ–ã€‚

å®‰è£…åçš„ä¾èµ–åŒ…ä¹‹æ‰€ä»¥èƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œæ˜¯å› ä¸º @pika/web æŠŠæ¯ä¸ªåŒ…æ‰“åŒ…æˆäº†ä¸€ä¸ªå•ç‹¬çš„ã€Web ç¯å¢ƒèƒ½å¤Ÿæ”¯æŒçš„ ESM æ¨¡å— `.js` æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼šæ•´ä¸ªâ€œpreactâ€åŒ…å¯¹åº”ç€æ–‡ä»¶ `web_modules/preact.js`ã€‚è¿™æ ·çš„æœºåˆ¶å¯ä»¥å¤„ç†åŒ…å†…éƒ¨å¯èƒ½å‡ºç°çš„å¼Šç«¯ï¼ŒåŒæ—¶ä¿ç•™åŸå§‹çš„åŒ…æ¥å£ã€‚

â€œå“ä½ ç­‰ä¼šå„¿ï¼â€ä½ å¯èƒ½ä¼šè¯´ï¼Œ[**â€œè¿™ä¸å°±æ˜¯æ¢äº†ä¸ªåœ°æ–¹æ‰“åŒ…å—ï¼Ÿæ¢æ±¤ä¸æ¢è¯å•Šï¼â€**](https://twitter.com/TheLarkInn/status/1102462419366891522)

**æ²¡é”™ï¼**@pika/web åˆ©ç”¨å†…éƒ¨æ‰“åŒ…æœºåˆ¶æ¥è¾“å‡º Web åŸç”Ÿæ”¯æŒçš„ npm ä¾èµ–ï¼Œè¿™ä¹Ÿæ­£æ˜¯æˆ‘ä»¬å¾ˆå¤šäººä»ä¸€å¼€å§‹å°±ä½¿ç”¨æ‰“åŒ…å·¥å…·çš„ä¸»è¦åŸå› ï¼

æœ‰äº† @pika/webï¼Œæ‰“åŒ…å·¥å…·å¸¦æ¥çš„æ‰€æœ‰éº»çƒ¦éƒ½è¢«è¿™ä¸ªå®‰è£…æ—¶å·¥å…·å†…éƒ¨æ¶ˆåŒ–äº†ã€‚åªè¦ä½ ä¸æƒ³ï¼Œæ‰“åŒ…å·¥å…·çš„é…ç½®ä»£ç ä½ ä¸€è¡Œéƒ½ä¸ç”¨çœ‹ã€‚ä½†è¯è¯´å›æ¥ï¼Œä½ å½“ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨ä½ å–œæ¬¢çš„å…¶ä»–å·¥å…·ï¼šæå‡å¼€å‘ä½“éªŒçš„ï¼ˆ[Babel](https://babeljs.io/)ã€[TypeScript](https://www.typescriptlang.org)ï¼‰ï¼ŒæŠ‘æˆ–ä¼˜åŒ–äº§å“çš„ï¼ˆ[Webpack](https://webpack.js.org)ã€[Rollup](https://rollupjs.org/)ï¼‰ã€‚

**è¿™å°±æ˜¯ @pika/web çš„ç²¾ç¥æ‰€åœ¨ï¼šæ‰“åŒ…ï¼Œåªå› ä½ æƒ³ï¼Œè€Œéå¿…é¡»ã€‚**

![æˆªå›¾ï¼šæºç å¯è§](https://www.pika.dev/static/img/bundling-view-source.png)

**é™„è¨€ï¼šå“¦è€¶ï¼Œ[æˆ‘æºç å¯è§åˆå›æ¥äº†ï¼](https://www.pika.dev/js/PackageList.js)**

### æ€§èƒ½

ç›¸è¾ƒå¤§å¤šæ•°æ‰“åŒ…å·¥å…·çš„å®‰è£…æ–¹å¼ï¼Œä»¥ @pika/web çš„æ–¹å¼ï¼ˆä½œä¸ºå•ä¸ª JavaScript æ–‡ä»¶çš„æ–¹å¼ï¼‰å®‰è£…æ¯ä¸ªä¾èµ–ï¼Œä¼šå¸¦ç»™ä½ æå¤§çš„æ€§èƒ½æå‡ï¼šä¾èµ–ç¼“å­˜ã€‚å½“ä½ æŠŠæ‰€æœ‰ä¾èµ–åŒ…æ‰“åŒ…æˆä¸€ä¸ªåºå¤§çš„ `vendor.js` æ–‡ä»¶ï¼Œæ¯å½“æ›´æ–°ä¸€ä¸ªä¾èµ–ï¼Œä½ å°±ä¸å¾—ä¸è¿«ä½¿ç”¨æˆ·é‡æ–°ä¸‹è½½æ•´ä¸ª `vendor.js`ã€‚è€Œå¦‚æœç”¨ @pika/web çš„è¯ï¼Œæ›´æ–°æŸä¸ªä¾èµ–åŒ…ä¸ä¼šè®©ç”¨æˆ·é‡æ–°ç¼“å­˜æ‰€æœ‰ä¾èµ–ã€‚

@pika/web å¸®ä½ æ‘†è„±è¿™äº›å› æ‰“åŒ…å·¥å…·å¯¼è‡´çš„æ€§èƒ½æ–¹é¢çš„æ‹–ç´¯ã€‚[å¤šä¸ªæ‰“åŒ…æ–‡ä»¶ä¸­å†—ä½™çš„ç›¸åŒä»£ç ](https://formidable.com/blog/2018/finding-webpack-duplicates-with-inspectpack-plugin/)ã€[æ— ç”¨æˆ–æ— å…³ä»£ç å¯¼è‡´çš„é¦–å±åŠ è½½ç¼“æ…¢](https://medium.com/webpack/better-tree-shaking-with-deep-scope-analysis-a0b788c0ce77)ã€[Webpack ç”Ÿæ€å‡çº§å¸¦æ¥çš„å‘å’Œ Bug](https://medium.com/@allanbaptista/the-problem-with-webpack-8a025268a761)â€¦â€¦æ‰€æœ‰è¿™äº›æ–‡ç« å’Œå·¥å…·ï¼Œéƒ½æ˜¯äººä»¬ä½¿å‡ºæµ‘èº«è§£æ•°è§£å†³æ‰“åŒ…å·¥å…·å¸¦æ¥çš„å‰¯ä½œç”¨çš„ä½è¯ã€‚

è¦è¯´æ˜çš„æ˜¯ï¼Œä¸å¯¹æºä»£ç è¿›è¡Œæ‰“åŒ…å¤„ç†ï¼Œä¹Ÿä¸å°½ç„¶æ€»æ˜¯åå…¨åç¾çš„ã€‚é’ˆå¯¹åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­çš„å‹ç¼©æ•ˆæœè€Œè¨€ï¼Œä½“ç§¯å¤§çš„ JavaScript æ–‡ä»¶è¦å¥½äºä½“ç§¯å°ã€ç²’åº¦ç»†çš„æ–‡ä»¶ã€‚è€Œåœ¨ [HTTP/2](https://developers.google.com/web/fundamentals/performance/http2/#request_and_response_multiplexing) åè®®ä¸‹ï¼Œæµè§ˆå™¨è¦èŠ±æ›´å¤šçš„æ—¶é—´å»è§£æå¯¼å…¥å¤šä¸ªå°æ–‡ä»¶çš„è¯·æ±‚ï¼Œè§£æå®Œæ‰èƒ½å°†åç»­è¯·æ±‚å‘å‡ºå»ã€‚

è¿™å°±éœ€è¦ä½ åœ¨æ€§èƒ½ã€ç¼“å­˜æ•ˆç‡å’Œè‡ªå·±èƒ½æ¥å—çš„å¤æ‚åº¦ä¹‹é—´æƒè¡¡ã€‚å†è¯´ä¸€éï¼Œè¿™æ˜¯ @pika/web çš„ç²¾ç¥æ‰€åœ¨ï¼šæ‰“åŒ…ï¼Œåªå› ä½ æƒ³ï¼Œè€Œéå¿…é¡»ã€‚

![ä¸€å †ä¹é«˜ç§¯æœ¨](https://www.pika.dev/static/img/bundling-legos.jpg)

### Pika Web å¼€å‘ç­–ç•¥

@pika/web å®Œå…¨æ”¹å˜äº†æˆ‘ä»¬åš Web å¼€å‘çš„æ–¹å¼ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬ä¹‹å‰æ­å»º [pika.dev](https://www.pika.dev/) çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å‘ 2019 å¹´çš„ä½ å¼ºçƒˆæ¨èï¼Œä¸‹ä¸€ä¸ª Web åº”ç”¨å°±ç”¨ @pika/web æ¥å¸®åŠ©å¼€å‘å§ï¼š

1. å¼€å§‹æ–°é¡¹ç›®æ—¶ï¼Œå…ˆåˆ«å¼•å…¥æ‰“åŒ…å·¥å…·ã€‚ç”¨ç°ä»£ ESM è¯­æ³•å†™ä»£ç ï¼Œç”¨ @pika/web å®‰è£…å¯ä»¥ç›´æ¥åœ¨ Web ç¯å¢ƒè¿è¡Œçš„ npm ä¾èµ–åŒ…ã€‚ä¸éœ€è¦ä»€ä¹ˆå·¥å…·ã€‚
2. ä½ å¯ä»¥éšæ—¶æ·»åŠ å·¥å…·ã€‚å¦‚æœéœ€è¦å¼ºç±»å‹æœºåˆ¶ï¼Œé‚£å°±æ·»åŠ  [TypeScript](https://www.typescriptlang.org)ï¼›å¦‚æœéœ€è¦ä½¿ç”¨è¯•éªŒæ€§çš„ JavaScript åŠŸèƒ½ï¼Œé‚£å°±æ·»åŠ  [Babel](https://babeljs.io/)ï¼›å¦‚æœéœ€è¦å‹ç¼© JavaScript ä»£ç ï¼Œé‚£å°±æ·»åŠ  [Terser](https://github.com/terser-js/terser)ã€‚åŠå¹´å¤šè¿‡å»äº†ï¼Œ[pika.dev](https://www.pika.dev/) åœ¨æ­¤é˜¶æ®µçš„å¼€å‘è¿‡ç¨‹ä»ç„¶é¡ºé£é¡ºæ°´ã€‚
3. å½“ä½ æ„Ÿè§‰éœ€è¦ç”¨å¹¶ä¸”æœ‰æ—¶é—´ç”¨æ‰“åŒ…å·¥å…·äº†ï¼Œå¯ä»¥å°è¯•ç»™é¡¹ç›®æ·»åŠ ä¸€ä¸ªç®€å•çš„æ‰“åŒ…å·¥å…·ã€‚æµ‹è¯•å…¶æ€§èƒ½å¦‚ä½•ã€‚é¦–å±åŠ è½½æ˜¯å¦è¿…é€Ÿï¼Ÿé‚£ç¬¬äºŒå±å‘¢ï¼Ÿå¦‚æœéƒ½æ²¡é—®é¢˜ï¼Œå®‰æ’ï¼
4. éšç€å¼€å‘è¿›ç¨‹çš„æ¨è¿›ï¼Œä¸æ–­ä¼˜åŒ–æ‰“åŒ…å·¥å…·çš„é…ç½®ã€‚
5. ç­‰ä½ é¢„ç®—å……è¶³äº†ï¼Œå°±è˜è¯·ä¸€ä½ Webpack ä¸“å®¶ã€‚æ­å–œæ­å–œï¼å¦‚æœä½ æœ‰è¶³å¤Ÿèµ„æºèƒ½è˜åˆ°ä¸€ä½ Webpack ä¸“å®¶ï¼Œé‚£ä½ å°±ç®—æ˜¯æ­£å¼åœ°ä¿®æˆæ­£æœäº†ã€‚

### æƒ³çœ‹äº›ç¤ºä¾‹ï¼Ÿæœ‰æœ‰æœ‰ï¼

* ä¸€ä¸ªç®€å•çš„é¡¹ç›®ï¼š[\[æºä»£ç \]](https://glitch.com/edit/#!/pika-web-example-simple) [\[åœ¨çº¿ Demo\]](https://pika-web-example-simple.glitch.me/)
* ä¸€ä¸ª Preact + HTM çš„é¡¹ç›®ï¼š [\[æºä»£ç \]](https://glitch.com/edit/#!/pika-web-example-preact-htm) [\[åœ¨çº¿ Demo\]](https://pika-web-example-preact-htm.glitch.me)
* Electronã€Three.jsâ€¦â€¦ [ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹å…¨éƒ¨ç¤ºä¾‹](https://github.com/pikapkg/web/blob/master/EXAMPLES.md)

> å¦‚æœå‘ç°è¯‘æ–‡å­˜åœ¨é”™è¯¯æˆ–å…¶ä»–éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¬¢è¿åˆ° [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) å¯¹è¯‘æ–‡è¿›è¡Œä¿®æ”¹å¹¶ PRï¼Œä¹Ÿå¯è·å¾—ç›¸åº”å¥–åŠ±ç§¯åˆ†ã€‚æ–‡ç« å¼€å¤´çš„ **æœ¬æ–‡æ°¸ä¹…é“¾æ¥** å³ä¸ºæœ¬æ–‡åœ¨ GitHub ä¸Šçš„ MarkDown é“¾æ¥ã€‚

---

> [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) æ˜¯ä¸€ä¸ªç¿»è¯‘ä¼˜è´¨äº’è”ç½‘æŠ€æœ¯æ–‡ç« çš„ç¤¾åŒºï¼Œæ–‡ç« æ¥æºä¸º [æ˜é‡‘](https://juejin.im) ä¸Šçš„è‹±æ–‡åˆ†äº«æ–‡ç« ã€‚å†…å®¹è¦†ç›– [Android](https://github.com/xitu/gold-miner#android)ã€[iOS](https://github.com/xitu/gold-miner#ios)ã€[å‰ç«¯](https://github.com/xitu/gold-miner#å‰ç«¯)ã€[åç«¯](https://github.com/xitu/gold-miner#åç«¯)ã€[åŒºå—é“¾](https://github.com/xitu/gold-miner#åŒºå—é“¾)ã€[äº§å“](https://github.com/xitu/gold-miner#äº§å“)ã€[è®¾è®¡](https://github.com/xitu/gold-miner#è®¾è®¡)ã€[äººå·¥æ™ºèƒ½](https://github.com/xitu/gold-miner#äººå·¥æ™ºèƒ½)ç­‰é¢†åŸŸï¼Œæƒ³è¦æŸ¥çœ‹æ›´å¤šä¼˜è´¨è¯‘æ–‡è¯·æŒç»­å…³æ³¨ [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)ã€[å®˜æ–¹å¾®åš](http://weibo.com/juejinfanyi)ã€[çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/juejinfanyi)ã€‚
