> * åŸæ–‡åœ°å€ï¼š[Why I Write CSS in JavaScript](https://mxstbr.com/thoughts/css-in-js/)
> * åŸæ–‡ä½œè€…ï¼š[max stoiber](https://mxstbr.com)
> * è¯‘æ–‡å‡ºè‡ªï¼š[æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)
> * æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[https://github.com/xitu/gold-miner/blob/master/TODO1/why-i-write-css-in-javascript.md](https://github.com/xitu/gold-miner/blob/master/TODO1/why-i-write-css-in-javascript.md)
> * è¯‘è€…ï¼š[Ivocin](https://github.com/Ivocin)
> * æ ¡å¯¹è€…ï¼š[MacTavish Lee](https://github.com/Reaper622), [Mirosalva](https://github.com/Mirosalva)

# ä¸ºä»€ä¹ˆæˆ‘ç”¨ JavaScript æ¥ç¼–å†™ CSS

ä¸‰å¹´æ¥ï¼Œæˆ‘è®¾è®¡çš„ Web åº”ç”¨ç¨‹åºéƒ½æ²¡æœ‰ä½¿ç”¨ `.css` æ–‡ä»¶ã€‚ä½œä¸ºæ›¿ä»£ï¼Œæˆ‘ç”¨ JavaScript ç¼–å†™äº†æ‰€æœ‰çš„ CSSã€‚

æˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆï¼šâ€œä¸ºä»€ä¹ˆæœ‰äººä¼šç”¨ JavaScript ç¼–å†™ CSS å‘¢ï¼Ÿï¼â€ è¿™ç¯‡æ–‡ç« æˆ‘å°±æ¥è§£ç­”è¿™ä¸ªé—®é¢˜ã€‚

## CSS-in-JS é•¿ä»€ä¹ˆæ ·ï¼Ÿ

å¼€å‘è€…ä»¬å·²ç»åˆ›å»ºäº†[ä¸åŒé£æ ¼çš„ CSS-in-JS](https://github.com/michelebertoli/css-in-js)ã€‚è¿„ä»Šä¸ºæ­¢æœ€å—æ¬¢è¿çš„ï¼Œæ˜¯æˆ‘å’Œä»–äººå…±åŒå¼€å‘çš„ä¸€ä¸ªå«åš [styled-components](https://styled-components.com) çš„åº“ï¼Œåœ¨ GitHub ä¸Šæœ‰è¶…è¿‡ 20,000 é¢—æ˜Ÿã€‚

å¦‚ä¸‹æ˜¯å®ƒä¸ React ä¸€èµ·ä½¿ç”¨çš„ä¾‹å­ï¼š

```
import styled from 'styled-components'

const Title = styled.h1`
  color: palevioletred;
  font-size: 18px;
`

const App = () => (
  <Title>Hello World!</Title>
)
```

è¿™ä¼šåœ¨ DOM é‡Œæ¸²æŸ“ä¸€ä¸ªå­—ä½“å¤§å°ä¸º 18px çš„æµ…ç´«çº¢è‰²çš„ `<h1>`ï¼š

![](https://user-images.githubusercontent.com/26959437/53942001-9c4cfd80-40f4-11e9-80ad-5cc9a4c35c4e.png)

## ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢ CSS-in-JSï¼Ÿ

ä¸»è¦æ˜¯ **CSS-in-JS å¢å¼ºäº†æˆ‘çš„ä¿¡å¿ƒ**ã€‚æˆ‘å¯ä»¥åœ¨ä¸äº§ç”Ÿä»»ä½•æ„å¤–åæœçš„æƒ…å†µä¸‹ï¼Œæ·»åŠ ã€æ›´æ”¹å’Œåˆ é™¤ CSSã€‚æˆ‘å¯¹ç»„ä»¶æ ·å¼çš„æ›´æ”¹ä¸ä¼šå½±å“å…¶ä»–ä»»ä½•å†…å®¹ã€‚å¦‚æœåˆ é™¤ç»„ä»¶ï¼Œæˆ‘ä¹Ÿä¼šåˆ é™¤å®ƒçš„ CSSã€‚ä¸å†æ˜¯[åªå¢ä¸å‡çš„æ ·å¼è¡¨](https://css-tricks.com/oh-no-stylesheet-grows-grows-grows-append-stylesheet-problem/)äº†ï¼Â âœ¨

**ä¿¡å¿ƒ**ï¼šåœ¨ä¸äº§ç”Ÿä»»ä½•æ„å¤–åæœçš„æƒ…å†µä¸‹ï¼Œæ·»åŠ ã€æ›´æ”¹å’Œåˆ é™¤ CSSï¼Œå¹¶é¿å…æ— ç”¨ä»£ç ã€‚

**æ˜“ç»´æŠ¤**ï¼šå†ä¹Ÿä¸éœ€è¦å¯»æ‰¾å½±å“ç»„ä»¶çš„ CSS äº†ã€‚

å°¤å…¶æ˜¯æˆ‘æ‰€åœ¨çš„å›¢é˜Ÿä»ä¸­è·å–äº†å¾ˆå¤§çš„ä¿¡å¿ƒã€‚æˆ‘ä¸èƒ½æŒ‡æœ›æ‰€æœ‰å›¢é˜Ÿæˆå‘˜ï¼Œç‰¹åˆ«æ˜¯åˆçº§æˆå‘˜ï¼Œå¯¹ CSS æœ‰ç€ç™¾ç§‘å…¨ä¹¦èˆ¬çš„ç†è§£ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œæˆªæ­¢æ—¥æœŸè¿˜å¯èƒ½ä¼šå½±å“è´¨é‡ã€‚

ä½¿ç”¨ CSS-in-JSï¼Œæˆ‘ä»¬ä¼šè‡ªåŠ¨é¿å¼€ CSS å¸¸è§çš„å‘ï¼Œæ¯”å¦‚ç±»åå†²çªå’Œæƒé‡å¤§æˆ˜ï¼ˆspecificity warsï¼‰ã€‚è¿™ä½¿æˆ‘ä»¬çš„ä»£ç åº“æ•´æ´ï¼Œå¹¶ä¸”å¼€å‘æ›´è¿…é€Ÿã€‚ ğŸ˜

**æå‡çš„å›¢é˜Ÿåˆä½œ**ï¼šæ— è®ºç»éªŒæ°´å¹³å¦‚ä½•ï¼Œéƒ½ä¼šé¿å¼€ CSS å¸¸è§çš„å‘ï¼Œä»¥ä¿æŒä»£ç åº“æ•´æ´ï¼Œå¹¶ä¸”å¼€å‘æ›´è¿…é€Ÿã€‚

å…³äºæ€§èƒ½ï¼ŒCSS-in-JS åº“è·Ÿè¸ªæˆ‘åœ¨é¡µé¢ä¸Šä½¿ç”¨çš„ç»„ä»¶ï¼Œåªå°†å®ƒä»¬çš„æ ·å¼æ³¨å…¥ DOM ä¸­ã€‚è™½ç„¶æˆ‘çš„ `.js` åŒ…ç¨å¤§ï¼Œä½†æˆ‘çš„ç”¨æˆ·ä¸‹è½½äº†å°½å¯èƒ½å°çš„æœ‰æ•ˆ CSS å†…å®¹ï¼Œå¹¶é¿å…äº†å¯¹ `.css` æ–‡ä»¶çš„é¢å¤–ç½‘ç»œè¯·æ±‚ã€‚

è¿™å¯¼è‡´äº¤äº’æ—¶é—´ç¨å¾®é•¿ä¸€ç‚¹ï¼Œä½†æ˜¯é¦–æ¬¡æœ‰æ•ˆç»˜åˆ¶å´ä¼šå¿«å¾ˆå¤šï¼ ğŸğŸ’¨

**é«˜æ€§èƒ½**ï¼šä»…å‘ç”¨æˆ·å‘é€å…³é”® CSS ä»¥å¿«é€Ÿè¿›è¡Œé¦–æ¬¡ç»˜åˆ¶ã€‚

æˆ‘è¿˜å¯ä»¥åŸºäºä¸åŒçš„çŠ¶æ€ï¼ˆ`variant="primary"` vs `variant="secondary"`ï¼‰æˆ–å…¨å±€ä¸»é¢˜è½»æ¾è°ƒæ•´ç»„ä»¶çš„æ ·å¼ã€‚å½“æˆ‘åŠ¨æ€æ›´æ”¹è¯¥ä¸Šä¸‹æ–‡æ—¶ï¼Œè¯¥ç»„ä»¶å°†è‡ªåŠ¨åº”ç”¨æ­£ç¡®çš„æ ·å¼ã€‚ ğŸ’…

**åŠ¨æ€æ ·å¼**ï¼šåŸºäºå…¨å±€ä¸»é¢˜æˆ–ä¸åŒçŠ¶æ€è®¾ç½®ç»„ä»¶æ ·å¼ã€‚

CSS-in-JS è¿˜æä¾› CSS é¢„å¤„ç†å™¨çš„æ‰€æœ‰é‡è¦åŠŸèƒ½ã€‚æ‰€æœ‰åº“éƒ½æ”¯æŒ auto-prefixingï¼ŒJavaScript åŸç”Ÿæä¾›äº†å¤§å¤šæ•°å…¶ä»–åŠŸèƒ½ï¼Œå¦‚ mixinsï¼ˆå‡½æ•°ï¼‰å’Œå˜é‡ã€‚

* * *

æˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆï¼šâ€œMaxï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–å·¥å…·æˆ–ä¸¥æ ¼çš„æµç¨‹æˆ–å¤§é‡çš„åŸ¹è®­æ¥è·å¾—è¿™äº›å¥½å¤„ã€‚æ˜¯ä»€ä¹ˆè®© CSS-in-JS å˜å¾—ç‰¹åˆ«ï¼Ÿâ€

CSS-in-JS å°†æ‰€æœ‰è¿™äº›å¥½å¤„ç»“åˆåˆ°ä¸€ä¸ªå¥½ç”¨çš„åŒ…ä¸­å¹¶å¼ºåˆ¶æ‰§è¡Œå®ƒä»¬ã€‚å®ƒå¼•å¯¼æˆ‘èµ°å‘[æˆåŠŸçš„å…³é”®](https://blog.codinghorror.com/falling-into-the-pit-of-success/)ï¼šåšæ­£ç¡®çš„äº‹æƒ…å¾ˆå®¹æ˜“ï¼Œåšé”™äº‹å¾ˆéš¾ï¼ˆç”šè‡³ä¸å¯èƒ½ï¼‰ã€‚

## è°åœ¨ä½¿ç”¨ CSS-in-JSï¼Ÿ

æœ‰ä¸Šåƒå®¶å…¬å¸åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ CSS-in-JSï¼ŒåŒ…æ‹¬ [Reddit](https://reddit.com)ã€[Patreon](https://patreon.com)ã€[Target](https://target.com), [Atlassian](https://atlaskit.atlassian.com)ã€[Vogue](https://vogue.de)ã€[GitHub](https://primer.style/components)ã€[Coinbase](https://pro.coinbase.com) ç­‰ç­‰ã€‚([åŒ…æ‹¬æœ¬ç½‘ç«™](https://github.com/mxstbr/mxstbr.com))

## CSS-in-JS é€‚åˆä½ å—ï¼Ÿ

å¦‚æœä½ ä½¿ç”¨ JavaScript æ¡†æ¶æ¥æ„å»ºåŒ…å«ç»„ä»¶çš„ Web åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆ CSS-in-JS å¯èƒ½éå¸¸é€‚åˆã€‚ç‰¹åˆ«æ˜¯ä½ æ‰€åœ¨å›¢é˜Ÿä¸­æ¯ä¸ªäººéƒ½ç†è§£åŸºæœ¬çš„ JavaScriptã€‚

å¦‚æœä½ ä¸ç¡®å®šå¦‚ä½•å¼€å§‹ï¼Œæˆ‘ä¼šå»ºè®®ä½ å°è¯•ä¸€ä¸‹ CSS-in-JSï¼Œäº²çœ¼çœ‹çœ‹å®ƒæœ‰å¤šå¥½ï¼ âœŒï¸

> å¦‚æœå‘ç°è¯‘æ–‡å­˜åœ¨é”™è¯¯æˆ–å…¶ä»–éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œæ¬¢è¿åˆ° [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) å¯¹è¯‘æ–‡è¿›è¡Œä¿®æ”¹å¹¶ PRï¼Œä¹Ÿå¯è·å¾—ç›¸åº”å¥–åŠ±ç§¯åˆ†ã€‚æ–‡ç« å¼€å¤´çš„ **æœ¬æ–‡æ°¸ä¹…é“¾æ¥** å³ä¸ºæœ¬æ–‡åœ¨ GitHub ä¸Šçš„ MarkDown é“¾æ¥ã€‚

---

> [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner) æ˜¯ä¸€ä¸ªç¿»è¯‘ä¼˜è´¨äº’è”ç½‘æŠ€æœ¯æ–‡ç« çš„ç¤¾åŒºï¼Œæ–‡ç« æ¥æºä¸º [æ˜é‡‘](https://juejin.im) ä¸Šçš„è‹±æ–‡åˆ†äº«æ–‡ç« ã€‚å†…å®¹è¦†ç›– [Android](https://github.com/xitu/gold-miner#android)ã€[iOS](https://github.com/xitu/gold-miner#ios)ã€[å‰ç«¯](https://github.com/xitu/gold-miner#å‰ç«¯)ã€[åç«¯](https://github.com/xitu/gold-miner#åç«¯)ã€[åŒºå—é“¾](https://github.com/xitu/gold-miner#åŒºå—é“¾)ã€[äº§å“](https://github.com/xitu/gold-miner#äº§å“)ã€[è®¾è®¡](https://github.com/xitu/gold-miner#è®¾è®¡)ã€[äººå·¥æ™ºèƒ½](https://github.com/xitu/gold-miner#äººå·¥æ™ºèƒ½)ç­‰é¢†åŸŸï¼Œæƒ³è¦æŸ¥çœ‹æ›´å¤šä¼˜è´¨è¯‘æ–‡è¯·æŒç»­å…³æ³¨ [æ˜é‡‘ç¿»è¯‘è®¡åˆ’](https://github.com/xitu/gold-miner)ã€[å®˜æ–¹å¾®åš](http://weibo.com/juejinfanyi)ã€[çŸ¥ä¹ä¸“æ ](https://zhuanlan.zhihu.com/juejinfanyi)ã€‚
