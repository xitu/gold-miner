> * 原文地址：[Performance Metrics for Front-End Applications](https://blog.bitsrc.io/performance-metrics-for-front-end-applications-a04fdfde217a)
> * 原文作者：[Mahdhi Rezvi](https://medium.com/@mahdhirezvi)
> * 译文出自：[掘金翻译计划](https://github.com/xitu/gold-miner)
> * 本文永久链接：[https://github.com/xitu/gold-miner/blob/master/article/2020/performance-metrics-for-front-end-applications.md](https://github.com/xitu/gold-miner/blob/master/article/2020/performance-metrics-for-front-end-applications.md)
> * 译者：
> * 校对者：

# Performance Metrics for Front-End Applications

![](https://cdn-images-1.medium.com/max/2560/1*V7jvAKZ4UKLwQ3ET2r9CuQ.jpeg)

The web has become an integral part of our daily lives. According to [CreditLoan](https://www.creditloan.com/blog/how-the-world-spends-its-time-online/), an average user would spend 7.6 hours online and spend around 20% of their time surfing the web. You can only imagine the extent of the numbers right now, when everyone is at home, during this devastating year of 2020.

These numbers show how much of am impact the mighty web has on us. To fully utilize this huge opportunity, websites should be of a very high standard. It is easy for someone to build a good-looking website. But it is quite tricky for it to be of great performance. This is because of the numerous bottlenecks present in web development such as expensive JavaScript, slow web font delivery, heavy images, etc.

You can have the most beautiful and engaging website in the world, but if it performs poorly on the user’s browser, people would disregard it.

## User-centric Performance and Why is It Important?

Now we know why we should start improving the performance of our websites.

> According to [Vitaly](https://www.smashingmagazine.com/author/vitaly-friedman/), as a general rule of thumb, you should aim to be at least 20% faster than your fastest competitor.

But when we talk about performance, what do we really mean?

As [Philip](https://web.dev/authors/philipwalton/) says, “performance is relative”. There can be instances where your site would load super fast on a user’s device, while it is sluggish on another. Two websites can take the same time to load, yet one can seem to load faster by loading content progressively. This creates the illusion of the page already being loaded and ready while it is actually loading in the background.

On another instance, the web page can actually load fast, but it can take a long time for it to become responsive as there are several blocking processes running in the background.

Therefore it is important to be precise and to refer to performance in terms of objective criteria that can be quantitatively measured.

#### Why is it important?

Traditionally, page events such as `load` were used to measure performance. But in fact, this does not necessarily correspond with anything the user cares about.

For example, a website may “load” a minimal page immediately, but then defers fetching content and takes several seconds to display any useful content on the page. This may happen after the page load event. Despite technically having a faster “**load time**”, that time does not relate to the actual user experience as the useful content takes several more seconds to exist.

## Metrics — Grouped

The performance metrics can be grouped under several categories.

* Quantity-based metrics
* Milestone metrics
* Rendering metrics
* Custom metrics

#### Quantity-based metrics

Measures the number of HTTP requests, weight due to resources such as images, styles, JavaScript, HTML.

**Useful for**

* Raising alarms — they let you know of how healthy your website is by letting you know whether your web application exceeds the performance budget. They also help monitor your web application over time and is considered one of the simplest metrics.

**Not useful for**

* Knowing the user experience — they are unable to elaborate on the user-perceived information as these metrics are mostly concerned on the straightforward attributes.

#### Rule-based metrics

These metrics are generated by web applications and browser extensions based on predefined rules. You would receive either a single output value/score or a series of ratings to your site. Applications such as Google Pagespeed Insights and Lighthouse provide rule-based metrics.

**Useful for**

* Scores make it easier to communicate, measure, and track performance as they are easily representable. In other words, it is easily interpretable as higher scores directly imply better performance.
* Provide “action items” or rather tips on how to improve each score or rating.

**Not useful for**

* Knowing the user experience — similar to quantity-based metrics, these metrics are unable to elaborate on the user-perceived information as these metrics are based on predefined rules which are known to change over time. There are some applications and extensions which do provide user-centric feedback.

#### Milestone metrics

These metrics are usually time-based and can be easily viewed from your browser developer tool’s network tab. Metrics such as ‘**Page Load**’ ‘**DOMContentLoaded**’ are a part of milestone metrics. The ‘**Time to First Byte**’ metric which is also a part of this group, helps you understand the speed of your backend server.

Another new addition to this group of metrics is ‘**Time to Interactive**’. This metric tells you when your page is ready for user interaction. In other words, when your page becomes ready for users to interact with it. This is an important addition as a loaded page which is not ready for user interaction is equal to an unloaded page.

**Useful for**

* Describe user experience as the milestones are from the user’s end and depict the user’s perception.
* Easy to track as the metrics are based on time.
* Visualizations are simple and easily understandable.

**Not useful for**

* Does not reveal the whole picture — what the user sees between the milestones are not captured in these metrics.

#### Rendering metrics

Rendering metrics help you fill the gaps from the milestone metrics by revealing the user’s visual experience as to what they see on the screen. This combined with milestone metrics can be very powerful.

**Useful for**

* Describing the user experience as they are capable of handling the visual experience from the user’s perspective
* Identify your rendering performance

**Not useful for**

* Prioritizing pixels — they do not know which pixels are important. In other words, it does not know to disregard visual content with no real value to the user such as ads and popups.
* Cannot identify interactivity — does not know when the user can interact with the visual content.

#### Custom metrics

[Custom metrics](https://web.dev/user-centric-performance-metrics/#custom-metrics) are triggered when something happens for your user’s experience. You will use APIs such as the User Timing API to get the metrics from the browser and pass them onto your servers.

**Useful for**

* Describe the user experience as the metrics are focused on the user’s real data.

**Not useful for**

* Comparing with competitors as the metrics are unique to your website. For example, “Time to First Tweet” metric of Twitter cannot be compared with a custom metric of Facebook as they do not mean the same thing.

## Key Metrics — Highlights

As we are now aware of the groups of metrics, let us look at some key metrics which belong to these groups.

#### Time to Interactive(TTI)

This is the point where everything is stable enough to handle user interaction. In other words, when the layout has stabilized, key web fonts are visible, and the main thread is available free enough to handle user input. This metric is key to understand how long the user has to wait in order to interact with the website without any delay or lag.

#### First Input Delay (FID)

This is also known as the **Input Responsiveness**. It is the time from when the user interacts with your website and the time your website is able to respond to that interaction. This enhances the TTI as FID fills up the gap as to what happens when the user interacts with the website. This is a Real User Metric(RUM) and can be measured with the help of some JavaScript [libraries](https://github.com/GoogleChromeLabs/first-input-delay) on the browser.

![Photo by [Taelynn Christopher](https://unsplash.com/@taelynnmae?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)](https://cdn-images-1.medium.com/max/5524/0*HkbEaNUJQ31hfhJa)

#### Largest Contentful Paint (LCP)

Denotes the point in the page lifecycle where the page’s important content has likely loaded. Although this is based on an assumption that the most important element of the page is the largest one visible in the user’s viewport. If the content has been rendered above and below the visible region(fold), only the one above is taken into consideration — the part which is visible to the user.

#### Total Blocking Time (TBT)

TBT is a metric that helps quantify the severity of how long a web page takes to be interactive. TBT measures the time between the first paint and Time to Interactive (TTI). A lower TBT is an indicator of good performance.

#### Cumulative Layout Shift (CLS)

CLS examines how unstable the website elements are. It highlights how often users experience unexpected layout shifts (**reflows**) and their impact on the overall user experience.

Let’s have a look at how unexpected layout shifts can have a negative impact on the UX.

![Source: [Web.dev](https://web.dev/cls/)](https://cdn-images-1.medium.com/max/2632/1*lbPHYbFOBwMs7yN4hcmjeA.gif)

#### Speed Index

The speed index measures how quickly the page contents are visually filled. This score is computed based on the visual progress yet it is merely a calculation. As this metric is concerned on the visual perspective, the viewport size has a direct impact on the speed index. Therefore you need to define your viewport sizes to match your target audience to get a more meaningful score.

#### CPU time spent

This metric reveals the time the main thread is blocked. It shows **how often** and **how long** the CPU/main thread is blocked for tasks such as painting, rendering, scripting and loading. If your web application has a high CPU time, it would give the user an unpleasant laggy experience. Can be calculated with the help of WebPageTest.

#### Component-Level CPU Costs

Similar to the CPU time spent, this metric focuses on the cost of JavaScript. The overall idea is to use CPU instruction count per component in understanding its impact on the overall experience, in isolation.

Can be implemented with the help of [Puppeteer](https://calendar.perfplanet.com/2019/javascript-component-level-cpu-costs/).

#### Frustration Index

When a user gets frustrated, they leave your web page. All of the above-discussed metrics focus on individual events. But the frustration index by [Tim Vereecke](https://calendar.perfplanet.com/2019/frustrationindex-mind-the-gap/) concentrates on the **gaps** between metrics instead of looking at them individually. This metric takes a look at the key milestones in the page and calculates the level of frustration the user will endure during the page load, as a score.

This is a key performance indicator for user experience as it wholely focuses on the user.

#### Ad Weight Impact

If your web site has advertisements to generate revenue, it is essential for you to know the extra burden it would cause the user as it can degrade the performance of your web page. A [script](https://calendar.perfplanet.com/2017/measuring-adweight/) created by Paddy Ganti helps you find out the weight of your ad-related code.

#### Deviation metrics

We spoke about a lot of different metrics. But one of the issues with all of the above metrics is consistency. The variance in your results shows how reliable your web site is across the network. This would also signify as to how much attention you must give to your system and infrastructure to provide a streamlined service. Specific pages can give a bigger variance due to some external scripts which are pretty unreliable. As Vitaly says, it is also a good idea to keep track of the browser versions supported to get a better idea on performance.

## Why Should You Consider a Combination of Metrics for Your Website?

Each website is different with its own target audience. Depending on what your website does, whom it caters to, you should focus more on specific metrics.

For example, if you are a streaming provider, you should concentrate more on the key input responsiveness, memory usage and TTI as they are essential for your application. But if you are website with more readable content such as Wikipedia and Medium, you should focus more on the visual changes and the CPU metrics. If you have your own blog with integrated ads, you should also focus on the ad weight impact. Moreover, the frustration index can be applied to all the above examples, as the key goal of any website is to avoid user frustration as it can have a negative impact on user experience.

> # You only get one chance to make a first impression. Make it count.

---

That’s it for this article. I highly recommend you go through the below resources as they are highly educative regarding this vast domain of web performance.


**Resources**
- [Front-End Performance Checklist 2020 by Vitaly Friedman](https://www.smashingmagazine.com/2020/01/front-end-performance-checklist-2020-pdf-pages/)
- [Presentation by Marcos Iglesias](https://docs.google.com/presentation/d/e/2PACX-1vTk8geAszRTDisSIplT02CacJybNtrr6kIYUCjW3-Y_7U9kYSjn_6TbabEQDnk9Ao8DX9IttL-RD_p7/pub?start=false&loop=false&delayms=10000&slide=id.g3ccc19d32d_0_98)
- [Article by Steve Souders](https://speedcurve.com/blog/rendering-metrics/)
- [Article by Philip Walton](https://web.dev/user-centric-performance-metrics/)
- [Article by Mat Ball](https://blog.newrelic.com/product-news/monitor-frontend-performance-with-user-centric-performance-metrics/)

> 如果发现译文存在错误或其他需要改进的地方，欢迎到 [掘金翻译计划](https://github.com/xitu/gold-miner) 对译文进行修改并 PR，也可获得相应奖励积分。文章开头的 **本文永久链接** 即为本文在 GitHub 上的 MarkDown 链接。

---

> [掘金翻译计划](https://github.com/xitu/gold-miner) 是一个翻译优质互联网技术文章的社区，文章来源为 [掘金](https://juejin.im) 上的英文分享文章。内容覆盖 [Android](https://github.com/xitu/gold-miner#android)、[iOS](https://github.com/xitu/gold-miner#ios)、[前端](https://github.com/xitu/gold-miner#前端)、[后端](https://github.com/xitu/gold-miner#后端)、[区块链](https://github.com/xitu/gold-miner#区块链)、[产品](https://github.com/xitu/gold-miner#产品)、[设计](https://github.com/xitu/gold-miner#设计)、[人工智能](https://github.com/xitu/gold-miner#人工智能)等领域，想要查看更多优质译文请持续关注 [掘金翻译计划](https://github.com/xitu/gold-miner)、[官方微博](http://weibo.com/juejinfanyi)、[知乎专栏](https://zhuanlan.zhihu.com/juejinfanyi)。
